import{a as Ht}from"./chunk-L2CXA6PW.js";import{b as zt,ca as er,d as de,f as Qt,g as nt,ga as tr,h as Ji,i as Vt,j as Bt,k as it,l as Xi,m as jt,o as Zi,p as $t,q as se,r as Ne,s as Re,t as Fe,u as Me,v as Ut}from"./chunk-NI7OY2TA.js";import{a as k,b as ye,c as De,d as Ee,e as Gi,f as G,g as we,h as Yi,i as Wi,j as je,k as qt,l as dt,m as rt}from"./chunk-VC3SQ3YH.js";import{a as Kt}from"./chunk-CVD3T6AB.js";import{a as Qi,b as Vi,c as Ui,d as Se,e as et,f as q,g as Lt,h as Hi,i as Ki,j as tt}from"./chunk-SPIBSKG6.js";import{Bb as Pt,Cb as Tt,Cc as Ze,Da as Ei,Db as Je,Dc as qi,Ea as wi,Ec as R,Fa as p,Fb as u,Gb as L,Hb as z,Hc as zi,Ia as Mi,Ib as kt,Ja as Pi,Ka as b,Kb as Ot,Lb as It,Mb as At,Mc as fe,Na as Ti,Nb as Dt,Nc as Bi,Oc as ji,Pc as $i,Qb as xe,Qc as he,R as Ci,Ra as P,Rb as Xe,S as A,Sb as Nt,U as ie,Ub as Te,Va as O,Vb as Ae,Wb as Ri,Xb as Rt,Y as re,Ya as Et,Z as X,Zb as Fi,_b as Li,a as St,c as _i,ca as D,da as N,db as ki,ea as Be,eb as Oi,fa as We,fb as Ii,gc as oe,ha as xi,ib as f,j as vi,jb as l,kb as c,la as Si,lb as x,mb as wt,nb as Mt,ob as F,qb as w,rb as C,tc as Ft,vb as Ai,vc as j,wb as Di,wc as pe,xb as Ni,xc as $,za as Ln}from"./chunk-S46BXV3G.js";function nr(i){return new A(3e3,!1)}function so(){return new A(3100,!1)}function ao(){return new A(3101,!1)}function lo(i){return new A(3001,!1)}function co(i){return new A(3003,!1)}function mo(i){return new A(3004,!1)}function rr(i,e){return new A(3005,!1)}function or(){return new A(3006,!1)}function sr(){return new A(3007,!1)}function ar(i,e){return new A(3008,!1)}function lr(i){return new A(3002,!1)}function cr(i,e,t,n,r){return new A(3010,!1)}function dr(){return new A(3011,!1)}function mr(){return new A(3012,!1)}function ur(){return new A(3200,!1)}function pr(){return new A(3202,!1)}function fr(){return new A(3013,!1)}function hr(i){return new A(3014,!1)}function gr(i){return new A(3015,!1)}function yr(i){return new A(3016,!1)}function br(i,e){return new A(3404,!1)}function uo(i){return new A(3502,!1)}function _r(i){return new A(3503,!1)}function vr(){return new A(3300,!1)}function Cr(i){return new A(3504,!1)}function xr(i){return new A(3301,!1)}function Sr(i,e){return new A(3302,!1)}function Er(i){return new A(3303,!1)}function wr(i,e){return new A(3400,!1)}function Mr(i){return new A(3401,!1)}function Pr(i){return new A(3402,!1)}function Tr(i,e){return new A(3505,!1)}function ke(i){switch(i.length){case 0:return new je;case 1:return i[0];default:return new qt(i)}}function Vn(i,e,t=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(d=>{let m=d.get("offset"),g=m==s,h=g&&a||new Map;d.forEach((T,M)=>{let _=M,E=T;if(M!=="offset")switch(_=i.normalizePropertyName(_,r),E){case dt:E=t.get(M);break;case ye:E=n.get(M);break;default:E=i.normalizeStyleValue(M,_,E,r);break}h.set(_,E)}),g||o.push(h),a=h,s=m}),r.length)throw uo(r);return o}function Gt(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&qn(t,"start",i)));break;case"done":i.onDone(()=>n(t&&qn(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&qn(t,"destroy",i)));break}}function qn(i,e,t){let n=t.totalTime,r=!!t.disabled,o=Yt(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Yt(i,e,t,n,r="",o=0,s){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function ae(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function Bn(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var po=typeof document>"u"?null:document.documentElement;function Wt(i){let e=i.parentNode||i.host||null;return e===po?null:e}function fo(i){return i.substring(1,6)=="ebkit"}var $e=null,ir=!1;function kr(i){$e||($e=ho()||{},ir=$e.style?"WebkitAppearance"in $e.style:!1);let e=!0;return $e.style&&!fo(i)&&(e=i in $e.style,!e&&ir&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in $e.style)),e}function ho(){return typeof document<"u"?document.body:null}function jn(i,e){for(;e;){if(e===i)return!0;e=Wt(e)}return!1}function $n(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var go=1e3,Un="{{",yo="}}",Hn="ng-enter",Jt="ng-leave",mt="ng-trigger",ut=".ng-trigger",Kn="ng-animating",Xt=".ng-animating";function Pe(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zn(parseFloat(e[1]),e[2])}function zn(i,e){switch(e){case"s":return i*go;default:return i}}function pt(i,e,t){return i.hasOwnProperty("duration")?i:bo(i,e,t)}function bo(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(nr(i)),{duration:0,delay:0,easing:""};r=zn(parseFloat(a[1]),a[2]);let d=a[3];d!=null&&(o=zn(parseFloat(d),a[4]));let m=a[5];m&&(s=m)}else r=i;if(!t){let a=!1,d=e.length;r<0&&(e.push(so()),a=!0),o<0&&(e.push(ao()),a=!0),a&&e.splice(d,0,nr(i))}return{duration:r,delay:o,easing:s}}function Or(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function be(i,e,t){e.forEach((n,r)=>{let o=Zt(r);t&&!t.has(r)&&t.set(r,i.style[o]),i.style[o]=n})}function Le(i,e){e.forEach((t,n)=>{let r=Zt(n);i.style[r]=""})}function ot(i){return Array.isArray(i)?i.length==1?i[0]:Gi(i):i}function Ir(i,e,t){let n=e.params||{},r=Gn(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||t.push(lo(o))})}var Qn=new RegExp(`${Un}\\s*(.+?)\\s*${yo}`,"g");function Gn(i){let e=[];if(typeof i=="string"){let t;for(;t=Qn.exec(i);)e.push(t[1]);Qn.lastIndex=0}return e}function st(i,e,t){let n=`${i}`,r=n.replace(Qn,(o,s)=>{let a=e[s];return a==null&&(t.push(co(s)),a=""),a.toString()});return r==n?i:r}var _o=/-+([a-z0-9])/g;function Zt(i){return i.replace(_o,(...e)=>e[1].toUpperCase())}function Ar(i,e){return i===0||e===0}function Dr(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,en(i,a)))}}return e}function le(i,e,t){switch(e.type){case k.Trigger:return i.visitTrigger(e,t);case k.State:return i.visitState(e,t);case k.Transition:return i.visitTransition(e,t);case k.Sequence:return i.visitSequence(e,t);case k.Group:return i.visitGroup(e,t);case k.Animate:return i.visitAnimate(e,t);case k.Keyframes:return i.visitKeyframes(e,t);case k.Style:return i.visitStyle(e,t);case k.Reference:return i.visitReference(e,t);case k.AnimateChild:return i.visitAnimateChild(e,t);case k.AnimateRef:return i.visitAnimateRef(e,t);case k.Query:return i.visitQuery(e,t);case k.Stagger:return i.visitStagger(e,t);default:throw mo(e.type)}}function en(i,e){return window.getComputedStyle(i)[e]}var mi=(()=>{class i{validateStyleProperty(t){return kr(t)}containsElement(t,n){return jn(t,n)}getParentElement(t){return Wt(t)}query(t,n,r){return $n(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,o,s,a=[],d){return new je(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ie({token:i,factory:i.\u0275fac})}return i})(),He=class{static NOOP=new mi},Ke=class{};var vo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),sn=class extends Ke{normalizePropertyName(e,t){return Zt(e)}normalizeStyleValue(e,t,n,r){let o="",s=n.toString().trim();if(vo.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(rr(e,n))}return s+o}};var an="*";function Co(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>xo(n,t,e)):t.push(i),t}function xo(i,e,t){if(i[0]==":"){let d=So(i,t);if(typeof d=="function"){e.push(d);return}i=d}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(gr(i)),e;let r=n[1],o=n[2],s=n[3];e.push(Nr(r,s));let a=r==an&&s==an;o[0]=="<"&&!a&&e.push(Nr(s,r))}function So(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(yr(i)),"* => *"}}var tn=new Set(["true","1"]),nn=new Set(["false","0"]);function Nr(i,e){let t=tn.has(i)||nn.has(i),n=tn.has(e)||nn.has(e);return(r,o)=>{let s=i==an||i==r,a=e==an||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?tn.has(i):nn.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?tn.has(e):nn.has(e)),s&&a}}var $r=":self",Eo=new RegExp(`s*${$r}s*,?`,"g");function Ur(i,e,t,n){return new ei(i).build(e,t,n)}var Rr="",ei=class{_driver;constructor(e){this._driver=e}build(e,t,n){let r=new ti(t);return this._resetContextStyleTimingState(r),le(this,ot(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Rr,e.collectedStyles=new Map,e.collectedStyles.set(Rr,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(or()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==k.State){let d=a,m=d.name;m.toString().split(/\s*,\s*/).forEach(g=>{d.name=g,o.push(this.visitState(d,t))}),d.name=m}else if(a.type==k.Transition){let d=this.visitTransition(a,t);n+=d.queryCount,r+=d.depCount,s.push(d)}else t.errors.push(sr())}),{type:k.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(d=>{Gn(d).forEach(m=>{s.hasOwnProperty(m)||o.add(m)})})}),o.size&&t.errors.push(ar(e.name,[...o.values()]))}return{type:k.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=le(this,ot(e.animation),t),r=Co(e.expr,t.errors);return{type:k.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ue(e.options)}}visitSequence(e,t){return{type:k.Sequence,steps:e.steps.map(n=>le(this,n,t)),options:Ue(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=n;let a=le(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:k.Group,steps:o,options:Ue(e.options)}}visitAnimate(e,t){let n=To(e.timings,t.errors);t.currentAnimateTimings=n;let r,o=e.styles?e.styles:G({});if(o.type==k.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let m={};n.easing&&(m.easing=n.easing),s=G(m)}t.currentTime+=n.duration+n.delay;let d=this.visitStyle(s,t);d.isEmptyStep=a,r=d}return t.currentAnimateTimings=null,{type:k.Animate,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ye?n.push(a):t.errors.push(lr(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let d of a.values())if(d.toString().indexOf(Un)>=0){o=!0;break}}}),{type:k.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,d)=>{let m=t.collectedStyles.get(t.currentQuerySelector),g=m.get(d),h=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(t.errors.push(cr(d,g.startTime,g.endTime,o,r)),h=!1),o=g.startTime),h&&m.set(d,{startTime:o,endTime:r}),t.options&&Ir(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:k.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(dr()),n;let r=1,o=0,s=[],a=!1,d=!1,m=0,g=e.steps.map(U=>{let H=this._makeStyleAst(U,t),ee=H.offset!=null?H.offset:Po(H.styles),W=0;return ee!=null&&(o++,W=H.offset=ee),d=d||W<0||W>1,a=a||W<m,m=W,s.push(W),H});d&&t.errors.push(mr()),a&&t.errors.push(ur());let h=e.steps.length,T=0;o>0&&o<h?t.errors.push(pr()):o==0&&(T=r/(h-1));let M=h-1,_=t.currentTime,E=t.currentAnimateTimings,V=E.duration;return g.forEach((U,H)=>{let ee=T>0?H==M?1:T*H:s[H],W=ee*V;t.currentTime=_+E.delay+W,E.duration=W,this._validateStyleAst(U,t),U.offset=ee,n.styles.push(U)}),n}visitReference(e,t){return{type:k.Reference,animation:le(this,ot(e.animation),t),options:Ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:k.AnimateChild,options:Ue(e.options)}}visitAnimateRef(e,t){return{type:k.AnimateRef,animation:this.visitReference(e.animation,t),options:Ue(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=wo(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,ae(t.collectedStyles,t.currentQuerySelector,new Map);let a=le(this,ot(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:k.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(fr());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:pt(e.timings,t.errors,!0);return{type:k.Stagger,animation:le(this,ot(e.animation),t),timings:n,options:null}}};function wo(i){let e=!!i.split(/\s*,\s*/).find(t=>t==$r);return e&&(i=i.replace(Eo,"")),i=i.replace(/@\*/g,ut).replace(/@\w+/g,t=>ut+"-"+t.slice(1)).replace(/:animating/g,Xt),[i,e]}function Mo(i){return i?St({},i):null}var ti=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Po(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function To(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=pt(i,e).duration;return Yn(o,0,"")}let t=i;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Yn(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=pt(t,e);return Yn(r.duration,r.delay,r.easing)}function Ue(i){return i?(i=St({},i),i.params&&(i.params=Mo(i.params))):i={},i}function Yn(i,e,t){return{duration:i,delay:e,easing:t}}function ui(i,e,t,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ht=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},ko=1,Oo=":enter",Io=new RegExp(Oo,"g"),Ao=":leave",Do=new RegExp(Ao,"g");function Hr(i,e,t,n,r,o=new Map,s=new Map,a,d,m=[]){return new ni().buildKeyframes(i,e,t,n,r,o,s,a,d,m)}var ni=class{buildKeyframes(e,t,n,r,o,s,a,d,m,g=[]){m=m||new ht;let h=new ii(e,t,m,r,o,g,[]);h.options=d;let T=d.delay?Pe(d.delay):0;h.currentTimeline.delayNextStep(T),h.currentTimeline.setStyles([s],null,h.errors,d),le(this,n,h);let M=h.timelines.filter(_=>_.containsAnimation());if(M.length&&a.size){let _;for(let E=M.length-1;E>=0;E--){let V=M[E];if(V.element===t){_=V;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,h.errors,d)}return M.length?M.map(_=>_.buildKeyframes()):[ui(t,[],[],[],0,T,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Pe(st(o,r?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?Pe(n.duration):null,a=n.delay!=null?Pe(n.delay):null;return s!==0&&e.forEach(d=>{let m=t.appendInstructionToTimeline(d,s,a);o=Math.max(o,m.duration+m.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),le(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==k.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ln);let s=Pe(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>le(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Pe(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),le(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?st(n,t.params,t.errors):n;return pt(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==k.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(d=>{let m=d.offset||0;a.forwardTime(m*o),a.setStyles(d.styles,d.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Pe(r.delay):0;o&&(t.previousNode.type===k.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ln);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let d=null;a.forEach((m,g)=>{t.currentQueryIndex=g;let h=t.createSubContext(e.options,m);o&&h.delayNextStep(o),m===t.element&&(d=h.currentTimeline),le(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let T=h.currentTimeline.currentTime;s=Math.max(s,T)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),d=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=a-d;break;case"full":d=n.currentStaggerTime;break}let g=t.currentTimeline;d&&g.delayNextStep(d);let h=g.currentTime;le(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}},ln={},ii=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ln;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,r,o,s,a,d){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=d||new cn(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Pe(n.duration)),n.delay!=null&&(r.delay=Pe(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=st(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ln,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new ri(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Io,"."+this._enterClassName),e=e.replace(Do,"."+this._leaveClassName);let d=n!=1,m=this._driver.query(this.element,e,d);n!==0&&(m=n<0?m.slice(m.length+n,m.length):m.slice(0,n)),a.push(...m)}return!o&&a.length==0&&s.push(hr(t)),a}},cn=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ko,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||ye),this._currentKeyframe.set(t,ye);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=No(e,this._globalTimelineStyles);for(let[a,d]of s){let m=st(d,o,n);this._pendingStyles.set(a,m),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ye),this._updateStyle(a,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,d)=>{let m=new Map([...this._backFill,...a]);m.forEach((g,h)=>{g===dt?e.add(h):g===ye&&t.add(h)}),n||m.set("offset",d/this.duration),r.push(m)});let o=[...e.values()],s=[...t.values()];if(n){let a=r[0],d=new Map(a);a.set("offset",0),d.set("offset",1),r=[a,d]}return ui(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},ri=class extends cn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,d=new Map(e[0]);d.set("offset",0),o.push(d);let m=new Map(e[0]);m.set("offset",Fr(a)),o.push(m);let g=e.length-1;for(let h=1;h<=g;h++){let T=new Map(e[h]),M=T.get("offset"),_=t+M*n;T.set("offset",Fr(_/s)),o.push(T)}n=s,t=0,r="",e=o}return ui(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function Fr(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function No(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)t.set(o,ye)}else for(let[o,s]of r)t.set(o,s)}),t}function Lr(i,e,t,n,r,o,s,a,d,m,g,h,T){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:d,preStyleProps:m,postStyleProps:g,totalTime:h,errors:T}}var Wn={},dn=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return Ro(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,o,s,a,d,m,g){let h=[],T=this.ast.options&&this.ast.options.params||Wn,M=a&&a.params||Wn,_=this.buildStyles(n,M,h),E=d&&d.params||Wn,V=this.buildStyles(r,E,h),U=new Set,H=new Map,ee=new Map,W=r==="void",Ge={params:Kr(E,T),delay:this.ast.options?.delay},ve=g?[]:Hr(e,t,this.ast.animation,o,s,_,V,Ge,m,h),te=0;return ve.forEach(ne=>{te=Math.max(ne.duration+ne.delay,te)}),h.length?Lr(t,this._triggerName,n,r,W,_,V,[],[],H,ee,te,h):(ve.forEach(ne=>{let ze=ne.element,Ye=ae(H,ze,new Set);ne.preStyleProps.forEach(Qe=>Ye.add(Qe));let hi=ae(ee,ze,new Set);ne.postStyleProps.forEach(Qe=>hi.add(Qe)),ze!==t&&U.add(ze)}),Lr(t,this._triggerName,n,r,W,_,V,ve,[...U.values()],H,ee,te))}};function Ro(i,e,t,n,r){return i.some(o=>o(e,t,n,r))}function Kr(i,e){let t=St({},e);return Object.entries(i).forEach(([n,r])=>{r!=null&&(t[n]=r)}),t}var oi=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=Kr(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=st(s,r,t));let d=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,d,s,t),n.set(a,s)})}),n}};function Fo(i,e,t){return new si(i,e,t)}var si=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new oi(r.style,o,n))}),qr(this.states,"true","1"),qr(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dn(e,r,this.states))}),this.fallbackTransition=Lo(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(s=>s.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Lo(i,e,t){let n=[(s,a)=>!0],r={type:k.Sequence,steps:[],options:null},o={type:k.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new dn(i,o,e)}function qr(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var qo=new ht,ai=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],r=[],o=Ur(this._driver,t,n,r);if(n.length)throw _r(n);this._animations.set(e,o)}_buildPlayer(e,t,n){let r=e.element,o=Vn(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Hr(this._driver,t,o,Hn,Jt,new Map,new Map,n,qo,r),s.forEach(g=>{let h=ae(a,g.element,new Map);g.postStyleProps.forEach(T=>h.set(T,null))})):(r.push(vr()),s=[]),r.length)throw Cr(r);a.forEach((g,h)=>{g.forEach((T,M)=>{g.set(M,this._driver.computeStyle(h,M,ye))})});let d=s.map(g=>{let h=a.get(g.element);return this._buildPlayer(g,new Map,h)}),m=ke(d);return this._playersById.set(e,m),m.onDestroy(()=>this.destroy(e)),this.players.push(m),m}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw xr(e);return t}listen(e,t,n,r){let o=Yt(t,"","","");return Gt(this._getPlayer(e),n,o,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},zr="ng-animate-queued",zo=".ng-animate-queued",Jn="ng-animate-disabled",Qo=".ng-animate-disabled",Vo="ng-star-inserted",Bo=".ng-star-inserted",jo=[],Gr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_e="__ng_removed",gt=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=Ho(r),n){let o=e,{value:s}=o,a=_i(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},ft="void",Xn=new gt(ft),li=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,ge(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw Sr(n,t);if(n==null||n.length==0)throw Er(t);if(!Ko(n))throw wr(n,t);let o=ae(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);let a=ae(this._engine.statesByElement,e,new Map);return a.has(t)||(ge(e,mt),ge(e,mt+"-"+t),a.set(t,Xn)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(s);d>=0&&o.splice(d,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Mr(e);return t}trigger(e,t,n,r=!0){let o=this._getTrigger(t),s=new yt(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ge(e,mt),ge(e,mt+"-"+t),this._engine.statesByElement.set(e,a=new Map));let d=a.get(t),m=new gt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&d&&m.absorbOptions(d.options),a.set(t,m),d||(d=Xn),!(m.value===ft)&&d.value===m.value){if(!Wo(d.params,m.params)){let E=[],V=o.matchStyles(d.value,d.params,E),U=o.matchStyles(m.value,m.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Le(e,V),be(e,U)})}return}let T=ae(this._engine.playersByElement,e,[]);T.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let M=o.matchTransition(d.value,m.value,e,m.params),_=!1;if(!M){if(!r)return;M=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:d,toState:m,player:s,isFallbackTransition:_}),_||(ge(e,zr),s.onStart(()=>{at(e,zr)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let V=this._engine.playersByElement.get(e);if(V){let U=V.indexOf(s);U>=0&&V.splice(U,1)}}),this.players.push(s),T.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,ut,!0);n.forEach(r=>{if(r[_e])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((d,m)=>{if(s.set(m,d.value),this._triggers.has(m)){let g=this.trigger(e,m,ft,r);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&ke(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let d=this._triggers.get(s).fallbackTransition,m=n.get(s)||Xn,g=new gt(ft),h=new yt(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:d,fromState:m,toState:g,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[_e];(!o||o===Gr)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){ge(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let d=Yt(o,n.triggerName,n.fromState.value,n.toState.value);d._data=e,Gt(n.player,a.phase,d,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ci=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new li(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let d=r.get(a);if(d){let m=n.indexOf(d);n.splice(m+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,r){if(rn(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!rn(t))return;let o=t[_e];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ge(e,Jn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),at(e,Jn))}removeNode(e,t,n){if(rn(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,o){this.collectedLeaveElements.push(t),t[_e]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,r,o){return rn(t)?this._fetchNamespace(e).listen(t,n,r,o):()=>{}}_buildInstruction(e,t,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ut,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Xt,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ke(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[_e];if(t&&t.setForRemoval){if(e[_e]=Gr,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Jn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Qo,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];ge(r,Vo)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?ke(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw Pr(e)}_flushAnimations(e,t){let n=new ht,r=[],o=new Map,s=[],a=new Map,d=new Map,m=new Map,g=new Set;this.disabledNodes.forEach(y=>{g.add(y);let v=this.driver.query(y,zo,!0);for(let S=0;S<v.length;S++)g.add(v[S])});let h=this.bodyNode,T=Array.from(this.statesByElement.keys()),M=Br(T,this.collectedEnterElements),_=new Map,E=0;M.forEach((y,v)=>{let S=Hn+E++;_.set(v,S),y.forEach(I=>ge(I,S))});let V=[],U=new Set,H=new Set;for(let y=0;y<this.collectedLeaveElements.length;y++){let v=this.collectedLeaveElements[y],S=v[_e];S&&S.setForRemoval&&(V.push(v),U.add(v),S.hasAnimation?this.driver.query(v,Bo,!0).forEach(I=>U.add(I)):H.add(v))}let ee=new Map,W=Br(T,Array.from(U));W.forEach((y,v)=>{let S=Jt+E++;ee.set(v,S),y.forEach(I=>ge(I,S))}),e.push(()=>{M.forEach((y,v)=>{let S=_.get(v);y.forEach(I=>at(I,S))}),W.forEach((y,v)=>{let S=ee.get(v);y.forEach(I=>at(I,S))}),V.forEach(y=>{this.processLeaveNode(y)})});let Ge=[],ve=[];for(let y=this._namespaceList.length-1;y>=0;y--)this._namespaceList[y].drainQueuedTransitions(t).forEach(S=>{let I=S.player,K=S.element;if(Ge.push(I),this.collectedEnterElements.length){let J=K[_e];if(J&&J.setForMove){if(J.previousTriggersValues&&J.previousTriggersValues.has(S.triggerName)){let Ve=J.previousTriggersValues.get(S.triggerName),ue=this.statesByElement.get(S.element);if(ue&&ue.has(S.triggerName)){let xt=ue.get(S.triggerName);xt.value=Ve,ue.set(S.triggerName,xt)}}I.destroy();return}}let Ce=!h||!this.driver.containsElement(h,K),ce=ee.get(K),Ie=_.get(K),B=this._buildInstruction(S,n,Ie,ce,Ce);if(B.errors&&B.errors.length){ve.push(B);return}if(Ce){I.onStart(()=>Le(K,B.fromStyles)),I.onDestroy(()=>be(K,B.toStyles)),r.push(I);return}if(S.isFallbackTransition){I.onStart(()=>Le(K,B.fromStyles)),I.onDestroy(()=>be(K,B.toStyles)),r.push(I);return}let bi=[];B.timelines.forEach(J=>{J.stretchStartingKeyframe=!0,this.disabledNodes.has(J.element)||bi.push(J)}),B.timelines=bi,n.append(K,B.timelines);let oo={instruction:B,player:I,element:K};s.push(oo),B.queriedElements.forEach(J=>ae(a,J,[]).push(I)),B.preStyleProps.forEach((J,Ve)=>{if(J.size){let ue=d.get(Ve);ue||d.set(Ve,ue=new Set),J.forEach((xt,Fn)=>ue.add(Fn))}}),B.postStyleProps.forEach((J,Ve)=>{let ue=m.get(Ve);ue||m.set(Ve,ue=new Set),J.forEach((xt,Fn)=>ue.add(Fn))})});if(ve.length){let y=[];ve.forEach(v=>{y.push(Tr(v.triggerName,v.errors))}),Ge.forEach(v=>v.destroy()),this.reportError(y)}let te=new Map,ne=new Map;s.forEach(y=>{let v=y.element;n.has(v)&&(ne.set(v,v),this._beforeAnimationBuild(y.player.namespaceId,y.instruction,te))}),r.forEach(y=>{let v=y.element;this._getPreviousPlayers(v,!1,y.namespaceId,y.triggerName,null).forEach(I=>{ae(te,v,[]).push(I),I.destroy()})});let ze=V.filter(y=>jr(y,d,m)),Ye=new Map;Vr(Ye,this.driver,H,m,ye).forEach(y=>{jr(y,d,m)&&ze.push(y)});let Qe=new Map;M.forEach((y,v)=>{Vr(Qe,this.driver,new Set(y),d,dt)}),ze.forEach(y=>{let v=Ye.get(y),S=Qe.get(y);Ye.set(y,new Map([...v?.entries()??[],...S?.entries()??[]]))});let Rn=[],gi=[],yi={};s.forEach(y=>{let{element:v,player:S,instruction:I}=y;if(n.has(v)){if(g.has(v)){S.onDestroy(()=>be(v,I.toStyles)),S.disabled=!0,S.overrideTotalTime(I.totalTime),r.push(S);return}let K=yi;if(ne.size>1){let ce=v,Ie=[];for(;ce=ce.parentNode;){let B=ne.get(ce);if(B){K=B;break}Ie.push(ce)}Ie.forEach(B=>ne.set(B,K))}let Ce=this._buildAnimation(S.namespaceId,I,te,o,Qe,Ye);if(S.setRealPlayer(Ce),K===yi)Rn.push(S);else{let ce=this.playersByElement.get(K);ce&&ce.length&&(S.parentPlayer=ke(ce)),r.push(S)}}else Le(v,I.fromStyles),S.onDestroy(()=>be(v,I.toStyles)),gi.push(S),g.has(v)&&r.push(S)}),gi.forEach(y=>{let v=o.get(y.element);if(v&&v.length){let S=ke(v);y.setRealPlayer(S)}}),r.forEach(y=>{y.parentPlayer?y.syncPlayerEvents(y.parentPlayer):y.destroy()});for(let y=0;y<V.length;y++){let v=V[y],S=v[_e];if(at(v,Jt),S&&S.hasAnimation)continue;let I=[];if(a.size){let Ce=a.get(v);Ce&&Ce.length&&I.push(...Ce);let ce=this.driver.query(v,Xt,!0);for(let Ie=0;Ie<ce.length;Ie++){let B=a.get(ce[Ie]);B&&B.length&&I.push(...B)}}let K=I.filter(Ce=>!Ce.destroyed);K.length?Go(this,v,K):this.processLeaveNode(v)}return V.length=0,Rn.forEach(y=>{this.players.push(y),y.onDone(()=>{y.destroy();let v=this.players.indexOf(y);this.players.splice(v,1)}),y.play()}),Rn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let d=!o||o==ft;a.forEach(m=>{m.queued||!d&&m.triggerName!=r||s.push(m)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let d of t.timelines){let m=d.element,g=m!==o,h=ae(n,m,[]);this._getPreviousPlayers(m,g,s,a,t.toState).forEach(M=>{let _=M.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),M.destroy(),h.push(M)})}Le(o,t.fromStyles)}_buildAnimation(e,t,n,r,o,s){let a=t.triggerName,d=t.element,m=[],g=new Set,h=new Set,T=t.timelines.map(_=>{let E=_.element;g.add(E);let V=E[_e];if(V&&V.removedBeforeQueried)return new je(_.duration,_.delay);let U=E!==d,H=Yo((n.get(E)||jo).map(te=>te.getRealPlayer())).filter(te=>{let ne=te;return ne.element?ne.element===E:!1}),ee=o.get(E),W=s.get(E),Ge=Vn(this._normalizer,_.keyframes,ee,W),ve=this._buildPlayer(_,Ge,H);if(_.subTimeline&&r&&h.add(E),U){let te=new yt(e,a,E);te.setRealPlayer(ve),m.push(te)}return ve});m.forEach(_=>{ae(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Uo(this.playersByQueriedElement,_.element,_))}),g.forEach(_=>ge(_,Kn));let M=ke(T);return M.onDestroy(()=>{g.forEach(_=>at(_,Kn)),be(d,t.toStyles)}),h.forEach(_=>{ae(r,_,[]).push(M)}),M}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new je(e.duration,e.delay)}},yt=class{namespaceId;triggerName;element;_player=new je;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>Gt(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ae(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Uo(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function Ho(i){return i??null}function rn(i){return i&&i.nodeType===1}function Ko(i){return i=="start"||i=="done"}function Qr(i,e){let t=i.style.display;return i.style.display=e??"none",t}function Vr(i,e,t,n,r){let o=[];t.forEach(d=>o.push(Qr(d)));let s=[];n.forEach((d,m)=>{let g=new Map;d.forEach(h=>{let T=e.computeStyle(m,h,r);g.set(h,T),(!T||T.length==0)&&(m[_e]=$o,s.push(m))}),i.set(m,g)});let a=0;return t.forEach(d=>Qr(d,o[a++])),s}function Br(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let d=o.get(a);if(d)return d;let m=a.parentNode;return t.has(m)?d=m:r.has(m)?d=n:d=s(m),o.set(a,d),d}return e.forEach(a=>{let d=s(a);d!==n&&t.get(d).push(a)}),t}function ge(i,e){i.classList?.add(e)}function at(i,e){i.classList?.remove(e)}function Go(i,e,t){ke(t).onDone(()=>i.processLeaveNode(e))}function Yo(i){let e=[];return Yr(i,e),e}function Yr(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof qt?Yr(n.players,e):e.push(n)}}function Wo(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}function jr(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(o=>r.add(o)):e.set(i,n),t.delete(i),!0}var lt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new ci(e.body,t,n),this._timelineEngine=new ai(e.body,t,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let d=[],m=[],g=Ur(this._driver,o,d,m);if(d.length)throw br(r,d);a=Fo(r,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[o,s]=Bn(n),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,o){if(n.charAt(0)=="@"){let[s,a]=Bn(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Jo(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Zn(e[0]),e.length>1&&(n=Zn(e[e.length-1]))):e instanceof Map&&(t=Zn(e)),t||n?new Xo(i,t,n):null}var Xo=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(t);o||i.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(be(this._element,this._initialStyles),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Le(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),be(this._element,this._initialStyles),this._state=3)}}return i})();function Zn(i){let e=null;return i.forEach((t,n)=>{Zo(n)&&(e=e||new Map,e.set(n,t))}),e}function Zo(i){return i==="display"||i==="position"}var mn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:en(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},un=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return jn(e,t)}getParentElement(e){return Wt(e)}query(e,t,n){return $n(e,t,n)}computeStyle(e,t,n){return en(e,t)}animate(e,t,n,r,o,s=[]){let a=r==0?"both":"forwards",d={duration:n,delay:r,fill:a};o&&(d.easing=o);let m=new Map,g=s.filter(M=>M instanceof mn);Ar(n,r)&&g.forEach(M=>{M.currentSnapshot.forEach((_,E)=>m.set(E,_))});let h=Or(t).map(M=>new Map(M));h=Dr(e,h,m);let T=Jo(e,h);return new mn(e,h,d,T)}};var on="@",Wr="@.disabled",pn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==on&&t==Wr?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,r){return this.delegate.listen(e,t,n,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},di=class extends pn{factory;constructor(e,t,n,r,o){super(t,n,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==on?t.charAt(1)=="."&&t==Wr?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,r){if(t.charAt(0)==on){let o=es(e),s=t.slice(1),a="";return s.charAt(0)!=on&&([s,a]=ts(s)),this.engine.listen(this.namespaceId,o,s,a,d=>{let m=d._data||-1;this.factory.scheduleListenerCallback(m,n,d)})}return this.delegate.listen(e,t,n,r)}};function es(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function ts(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var fn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let m=this._rendererCache,g=m.get(r);if(!g){let h=()=>m.delete(r);g=new pn(n,r,this.engine,h),m.set(r,g)}return g}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=m=>{Array.isArray(m)?m.forEach(a):this.engine.registerTrigger(o,s,e,m.name,m)};return t.data.animation.forEach(a),new di(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var is=(()=>{class i extends lt{constructor(t,n,r){super(t,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(re(xi),re(He),re(Ke))};static \u0275prov=ie({token:i,factory:i.\u0275fac})}return i})();function rs(){return new sn}function os(i,e,t){return new fn(i,e,t)}var Jr=[{provide:Ke,useFactory:rs},{provide:lt,useClass:is},{provide:Mi,useFactory:os,deps:[Qi,lt,Et]}],va=[{provide:He,useClass:mi},{provide:Ln,useValue:"NoopAnimations"},...Jr],ss=[{provide:He,useFactory:()=>new un},{provide:Ln,useFactory:()=>"BrowserAnimations"},...Jr];function Xr(){return Ti("NgEagerAnimations"),[...ss]}var Z=class i{constructor(e){this.http=e}role="";baseUrl=he.baseUrl;loggedIn=new vi(this.isAuthenticated());get isLoggedIn$(){return this.loggedIn.asObservable()}login(e){return this.http.post(`${this.baseUrl}/User/login`,e).pipe(Ci(t=>{this.role=t.data.role,localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.id),this.loggedIn.next(!0)}))}logout(){localStorage.removeItem("token"),this.loggedIn.next(!1)}isAuthenticated(){return!!this.getToken()}getToken(){return localStorage.getItem("token")}getUserId(){return localStorage.getItem("userId")}isAdmin(){return this.role==="Admin"}static \u0275fac=function(t){return new(t||i)(re(fe))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var hn=class i{constructor(e,t,n,r){this.router=e;this.confirmService=t;this.resultService=n;this.auth=r}exam;buttonText="Take Exam";color="#28a745";onClick(){this.confirmService.show("Take Exam","Are you sure you want to take this exam?",this.onClickConfirmed)}onClickConfirmed=()=>{let e=this.auth.getUserId(),t=this.exam.id,n={studentId:Number(e),examId:t,attemptNumber:1,score:1,status:"Started",startTime:new Date};this.resultService.createResult(n).subscribe({next:r=>{this.router.navigate([`/take-exam/${t}`]),localStorage.setItem("resultId",r?.data?.id)},error:r=>{console.error("Error creating result:",r),this.confirmService.show("Error","Could not start the exam. Please try again later.",()=>{},{okText:"Ok",isPrompt:!0,isSuccess:!1})}})};static \u0275fac=function(t){return new(t||i)(b(q),b(Me),b(rt),b(Z))};static \u0275cmp=P({type:i,selectors:[["app-card"]],inputs:{exam:"exam",buttonText:"buttonText"},decls:20,vars:13,consts:[[1,"card"],[1,"card-content"],[1,"text"],[1,"card-footer"],["icon","bi bi-card-text","type","button",3,"clicked","text"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3")(4,"span"),u(5),c()(),l(6,"p"),u(7),c(),l(8,"p"),u(9,"Start Date: "),l(10,"span"),u(11),Te(12,"date"),c()(),l(13,"p"),u(14,"End Date: "),l(15,"span"),u(16),Te(17,"date"),c()()()(),l(18,"div",3)(19,"app-button",4),w("clicked",function(){return n.onClick()}),c()()()),t&2&&(Tt("border-color",n.color),p(5),z(" ",n.exam.title),p(2),L(n.exam.description),p(4),L(Ae(12,7,n.exam.startTime,"short")),p(5),L(Ae(17,10,n.exam.endTime,"short")),p(3),f("text",n.buttonText))},dependencies:[R,Ze,se,Fe],styles:[".card[_ngcontent-%COMP%]{width:300px!important;height:340px;border-radius:8px;background-color:#0080001a;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-content[_ngcontent-%COMP%]{padding:1rem}.card-footer[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:center;align-items:center}.text[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:green}.text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}"]})};var as=i=>({"d-none":i});function ls(i,e){if(i&1&&(l(0,"div",1),x(1,"div",2),l(2,"p",3),u(3,"Loading..."),c()()),i&2){let t=C();f("ngClass",xe(2,as,!t.loading))("@fade",void 0)}}var yn=class i{loading=!1;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["app-loader"]],inputs:{loading:"loading"},decls:1,vars:1,consts:[["class","spinner-overlay",3,"ngClass",4,"ngIf"],[1,"spinner-overlay",3,"ngClass"],[1,"spinner"],[1,"text"]],template:function(t,n){t&1&&O(0,ls,4,4,"div",0),t&2&&f("ngIf",n.loading)},dependencies:[R,j,$],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:6px solid #e0e0e0;border-top:6px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.text[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;color:#fff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}body.dark-mode[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:6px solid #555;border-top-color:#66bb6a}"]})};var cs=(i,e)=>({"button-active":i,"btn-outline-secondary":e});function ds(i,e){if(i&1&&x(0,"app-card",5),i&2){let t=e.$implicit;f("exam",t)}}function ms(i,e){if(i&1&&O(0,ds,1,1,"app-card",8),i&2){let t=C();f("ngForOf",t.activeExams)}}function us(i,e){i&1&&(l(0,"p"),u(1,"No exams found."),c())}function ps(i,e){i&1&&O(0,us,2,0,"ng-template")}function fs(i,e){if(i&1){let t=F();wt(0),l(1,"button",14),w("click",function(){let r=D(t).$implicit,o=C(2);return N(o.goToPage(r))}),u(2),c(),Mt()}if(i&2){let t=e.$implicit,n=C(2);p(),f("ngClass",Xe(2,cs,t===n.page,t!==n.page)),p(),z(" ",t," ")}}function hs(i,e){if(i&1){let t=F();l(0,"div",9)(1,"button",10),w("click",function(){D(t);let r=C();return N(r.goToPage(r.page-1))}),x(2,"i",11),c(),O(3,fs,3,5,"ng-container",12),l(4,"button",10),w("click",function(){D(t);let r=C();return N(r.goToPage(r.page+1))}),x(5,"i",13),c()()}if(i&2){let t=C();p(),f("disabled",t.page<=1),p(2),f("ngForOf",t.getPages()),p(),f("disabled",t.page>=t.totalPages)}}var bn=class i{constructor(e,t){this.http=e;this.cdr=t}baseUrl=he.baseUrl;exams=[];loading=!1;searchControl=new Vt("");sortBy="createdAt";isDesc=!0;page=1;pageSize=8;totalCount=0;isActive=!1;darkMode=!1;ngOnInit(){this.darkMode=localStorage.getItem("dark")==="true",window.addEventListener("themeChanged",this.handleThemeChange),this.searchControl.valueChanges.subscribe(()=>{this.page=1,this.getExams()}),this.getExams()}get activeExams(){return this.exams.filter(e=>e.isActive)}get totalPages(){return Math.ceil(this.totalCount/this.pageSize)}getPages(){let e=[];for(let t=1;t<=this.totalPages;t++)e.push(t);return e}goToPage(e){e>=1&&e<=this.totalPages&&(this.page=e,this.getExams())}getExams(){this.loading=!0;let e=this.searchControl.value??"",t=new URLSearchParams({name:e,sortBy:this.sortBy,isDesc:this.isDesc.toString(),page:this.page.toString(),pageSize:this.pageSize.toString(),isActive:this.isActive.toString()}),n=`${this.baseUrl}/Exam?${t.toString()}`;this.http.get(n).subscribe({next:r=>{let o=r?.data;this.exams=o?.data?.$values||[],this.totalCount=o?.totalCount||0,this.loading=!1,this.cdr.detectChanges()},error:r=>{this.loading=!1,console.error("Error fetching exams:",r)}})}ngOnDestroy(){window.removeEventListener("themeChanged",this.handleThemeChange)}handleThemeChange=e=>{let t=e;this.darkMode=t.detail.dark};static \u0275fac=function(t){return new(t||i)(b(fe),b(oe))};static \u0275cmp=P({type:i,selectors:[["app-home"]],decls:10,vars:5,consts:[[1,"container","mt-4"],[1,"w-25","float-end","mx-4"],["placeholder","Search by name","icon","fa-search","type","text",3,"control"],[3,"loading"],[1,"list-exams","position-relative",2,"min-height","200px"],[3,"exam"],[4,"ngIf"],["class","pagination mt-4 d-flex align-items-center justify-content-center gap-2 flex-wrap",4,"ngIf"],[3,"exam",4,"ngFor","ngForOf"],[1,"pagination","mt-4","d-flex","align-items-center","justify-content-center","gap-2","flex-wrap"],[3,"click","disabled"],[1,"fas","fa-chevron-left"],[4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[3,"click","ngClass"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"h2"),u(2,"Exams"),c(),l(3,"div",1),x(4,"app-custom-input",2),c(),x(5,"app-loader",3),l(6,"div",4),Oi(7,ms,1,1,"app-card",5),c(),O(8,ps,1,0,null,6)(9,hs,6,3,"div",7),c()),t&2&&(p(4),f("control",n.searchControl),p(),f("loading",n.loading),p(2),Ii(n.activeExams.length>0?7:-1),p(),f("ngIf",!n.loading&&n.activeExams.length===0),p(),f("ngIf",!n.loading))},dependencies:[R,j,pe,$,se,Ne,Re,hn,yn],styles:[".list-exams[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;align-items:center}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1rem;border-radius:8px;border:none;box-shadow:0 4px 14px #28a74566;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.pagination[_ngcontent-%COMP%]   button.button-active[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#218838,#28a745);box-shadow:0 6px 20px #28a74599;transform:translateY(-1px);cursor:pointer}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;box-shadow:none;transform:none}"]})};var _n=class i{constructor(e){this.location=e}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||i)(b(Ft))};static \u0275cmp=P({type:i,selectors:[["app-not-found"]],decls:10,vars:1,consts:[[1,"not-found"],[1,"btn",3,"click"],["src","https://stories.freepiklabs.com/storage/11838/Oops!-404-Error-with-a-Broken-Robot-01.svg","alt","404 Not Found",1,"not-found-img"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"h1"),u(2,"404"),c(),l(3,"h2"),u(4,"Oops! Page not found."),c(),l(5,"p"),u(6,"The page you're looking for doesn\u2019t exist or has been moved."),c(),l(7,"button",1),w("click",function(){return n.goBack()}),u(8,"Go Back"),c(),x(9,"img",2),c()),t&2&&f("@fadeIn",void 0)},dependencies:[R,tt],styles:[".not-found[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:100vh;background:linear-gradient(to right,#1a2332,#2c3e50);color:#fff;padding:20px;animation:_ngcontent-%COMP%_fadeIn .7s ease-in-out}.not-found[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8rem;margin-bottom:.5rem;font-weight:700;color:#ff6b6b}.not-found[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:2rem;max-width:400px}.not-found[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:1rem;padding:12px 24px;font-size:1rem;background:#ff6b6b;color:#fff;text-decoration:none;border:none;border-radius:4px;cursor:pointer;animation:_ngcontent-%COMP%_pulse 2s infinite;transition:background .3s}.not-found[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ff4a4a}.not-found-img[_ngcontent-%COMP%]{margin-top:30px;max-width:300px;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0)}50%{transform:translateY(-15px)}to{transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);box-shadow:0 0 #ff6b6bb3}70%{transform:scale(1.05);box-shadow:0 0 10px #ff6b6b00}to{transform:scale(1);box-shadow:0 0 #ff6b6b00}}"],data:{animation:[De("fadeIn",[we(":enter",[G({opacity:0,transform:"translateY(20px)"}),Ee("600ms ease-out",G({opacity:1,transform:"translateY(0)"}))])])]}})};var vn=class i{constructor(e){this.fb=e;this.form=this.fb.group({email:["",[de.required,de.email]],password:["",de.required]})}form;auth=X(Z);router=X(q);toast=X(Ut);get email(){return this.form.get("email")}get password(){return this.form.get("password")}isLoading=!1;login(){this.form.valid?(this.isLoading=!0,this.auth.login(this.form.value).subscribe({next:e=>{let t=e.data.role==="Admin"?"/dashboard":"/";this.router.navigate([t]),this.isLoading=!1},error:e=>{this.isLoading=!1,console.error("Login error:",e)}})):(this.isLoading=!1,this.form.markAllAsTouched())}darkMode=!1;ngOnInit(){this.darkMode=localStorage.getItem("dark")==="true",window.addEventListener("themeChanged",this.handleThemeChange)}ngOnDestroy(){window.removeEventListener("themeChanged",this.handleThemeChange)}handleThemeChange=e=>{let t=e;this.darkMode=t.detail.dark};static \u0275fac=function(t){return new(t||i)(b($t))};static \u0275cmp=P({type:i,selectors:[["app-login"]],decls:4,vars:5,consts:[[3,"ngSubmit","formGroup"],["label","Email","placeholder","Enter your email","icon","fa-envelope","type","email",3,"control"],["label","Password","placeholder","Enter your password","type","password",3,"control","showToggle"],["text","Login","icon","fa-solid fa-right-to-bracket","type","submit",3,"loading"]],template:function(t,n){t&1&&(l(0,"form",0),w("ngSubmit",function(){return n.login()}),x(1,"app-custom-input",1)(2,"app-custom-input",2)(3,"app-button",3),c()),t&2&&(f("formGroup",n.form),p(),f("control",n.email),p(),f("control",n.password)("showToggle",!0),p(),f("loading",n.isLoading))},dependencies:[Ne,it,nt,jt,se,R,Re,Fe],styles:["form[_ngcontent-%COMP%]{width:400px;margin:50px auto 0;padding:30px;border:1px solid #28a745;border-radius:8px}"]})};var qe=class i{constructor(e){this.http=e}apiUrl=he.baseUrl+"/question";createQuestion(e){return this.http.post(`${this.apiUrl}`,e)}getQuestion(e){return this.http.get(`${this.apiUrl}/${e}`)}getQuestionsByExamIdWithChoices(e){return this.http.get(`${this.apiUrl}/by-exam/detailed/${e}`)}updateQuestion(e,t){return this.http.put(`${this.apiUrl}/${e}`,t)}deleteQuestion(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(t){return new(t||i)(re(fe))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Cn=class i{constructor(e){this.http=e}apiUrl=he.baseUrl;createAnswer(e){return this.http.post(`${this.apiUrl}/Answer/submit`,e)}getAnswersByResultId(e){return this.http.get(`${this.apiUrl}/Answer/by-result/${e}`)}updateAnswer(e,t){return this.http.put(`${this.apiUrl}/Answer/${e}`,t)}static \u0275fac=function(t){return new(t||i)(re(fe))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var bs=(i,e,t)=>({"btn-outline-secondary":i,"btn-outline-success":e,"btn-primary":t});function _s(i,e){if(i&1){let t=F();l(0,"button",10),w("click",function(){let r=D(t).index,o=C();return N(o.goToQuestion(r))}),u(1),c()}if(i&2){let t=e.$implicit,n=e.index,r=C();f("ngClass",Nt(2,bs,r.currentIndex!==n&&!r.choices[t.id],r.choices[t.id]&&r.currentIndex!==n,r.currentIndex===n)),p(),z(" Q",n+1," ")}}function vs(i,e){if(i&1){let t=F();l(0,"div",18)(1,"input",19),At("ngModelChange",function(r){D(t);let o=C(2);return It(o.choices[o.currentQuestion.id],r)||(o.choices[o.currentQuestion.id]=r),N(r)}),c(),l(2,"label",20),u(3),c()()}if(i&2){let t=e.$implicit,n=C(2);p(),f("id",Dt("choice-",t.id))("value",t.id),Ot("ngModel",n.choices[n.currentQuestion.id]),p(),f("for","choice-"+t.id),p(),z(" ",t.text," ")}}function Cs(i,e){if(i&1){let t=F();l(0,"button",21),w("click",function(){D(t);let r=C(2);return N(r.submitExam())}),u(1," Submit Exam "),c()}if(i&2){let t=C(2);f("disabled",!t.choices[t.currentQuestion.id])}}function xs(i,e){if(i&1){let t=F();l(0,"button",22),w("click",function(){D(t);let r=C(2);return N(r.nextQuestion())}),u(1," Next "),c()}if(i&2){let t=C(2);f("disabled",!t.choices[t.currentQuestion.id])}}function Ss(i,e){if(i&1){let t=F();l(0,"div",11)(1,"h4"),u(2),c(),l(3,"div",12),O(4,vs,4,6,"div",13),c(),l(5,"div",14)(6,"button",15),w("click",function(){D(t);let r=C();return N(r.prevQuestion())}),u(7," Previous "),c(),O(8,Cs,2,1,"button",16)(9,xs,2,1,"button",17),c()()}if(i&2){let t=C();p(2),kt("Q",t.currentIndex+1,": ",t.currentQuestion.text),p(2),f("ngForOf",t.currentQuestion.choices),p(2),f("disabled",t.currentIndex===0),p(2),f("ngIf",t.currentIndex===t.questions.length-1),p(),f("ngIf",t.currentIndex<t.questions.length-1)}}var xn=class i{constructor(e,t,n,r,o,s,a){this.questionsService=e;this.examService=t;this.router=n;this.cdr=r;this.route=o;this.confirmService=s;this.answerService=a}examId=1;questions=[];isLoading=!1;error="";exam;totalSeconds=0;remainingSeconds=0;dashOffset=0;displayTime="";intervalId;color="#28a745";choices={};currentIndex=0;ngOnInit(){document.addEventListener("contextmenu",this.disableContextMenu),document.body.classList.add("no-select"),this.enterFullscreen(),history.pushState(null,document.title,location.href),window.addEventListener("popstate",()=>{history.pushState(null,document.title,location.href)}),this.route.params.subscribe(e=>{this.examId=+e.examId,this.loadExam(),this.loadQuestions()})}ngOnDestroy(){document.removeEventListener("contextmenu",this.disableContextMenu),document.body.classList.remove("no-select"),clearInterval(this.intervalId)}disableContextMenu=e=>{e.preventDefault()};onKeydown(e){["Escape","F11","F5"].includes(e.key)&&e.preventDefault()}preventReload(e){e.preventDefault(),e.returnValue=!1}enterFullscreen(){let e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}loadExam(){this.isLoading=!0,this.examService.getExamById(this.examId).subscribe({next:e=>{this.exam=e,this.isLoading=!1,this.startTimer(),this.cdr.detectChanges()},error:e=>{this.error="Failed to load exam",this.isLoading=!1,this.cdr.detectChanges()}})}loadQuestions(){this.isLoading=!0,this.questionsService.getQuestionsByExamIdWithChoices(this.examId).subscribe({next:e=>{let t=e?.data?.$values||[];this.questions=Array.isArray(t)?t.map(n=>(n.choices=n?.choices?.$values||[],n)):[],this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.error="Failed to load questions",this.isLoading=!1,this.cdr.detectChanges()}})}startTimer(){if(!this.exam?.startTime||!this.exam?.endTime)return;let e=new Date,t=new Date(this.exam.startTime),n=new Date(this.exam.endTime);this.totalSeconds=Math.floor((n.getTime()-t.getTime())/1e3),this.remainingSeconds=Math.floor((n.getTime()-e.getTime())/1e3),this.updateDisplay(),this.intervalId=setInterval(()=>{this.remainingSeconds--,this.remainingSeconds<=0&&(this.remainingSeconds=0,clearInterval(this.intervalId),this.submitExam()),this.updateDisplay()},1e3)}updateDisplay(){let e=this.remainingSeconds/this.totalSeconds,t=2*Math.PI*45;this.dashOffset=t*(1-e);let n=Math.floor(this.remainingSeconds/60),r=this.remainingSeconds%60;this.displayTime=`${n}:${r<10?"0"+r:r}`,e<.2?this.color="#dc3545":e<.5?this.color="#ffc107":this.color="#28a745"}get currentQuestion(){return this.questions[this.currentIndex]}goToQuestion(e){this.currentIndex=e}nextQuestion(){this.currentIndex<this.questions.length-1?this.currentIndex++:this.submitExam()}prevQuestion(){this.currentIndex>0&&this.currentIndex--}submitExam(){this.confirmService.show("Confirm Submit","Are you sure you want to submit your exam?",this.submitConfirmed)}submitConfirmed=()=>{let e=+localStorage.getItem("resultId"),t=Object.entries(this.choices).map(([n,r])=>({resultId:e,questionId:+n,choiceId:+r}));this.answerService.createAnswer(t).subscribe({next:n=>{document.exitFullscreen(),localStorage.removeItem("resultId"),this.router.navigate([`/show-result/${n.data.id}`])},error:n=>{console.error("Error submitting answer:",n)}})};static \u0275fac=function(t){return new(t||i)(b(qe),b(Ht),b(q),b(oe),b(Se),b(Me),b(Cn))};static \u0275cmp=P({type:i,selectors:[["app-take-exam"]],hostBindings:function(t,n){t&1&&w("keydown",function(o){return n.onKeydown(o)},wi)("beforeunload",function(o){return n.preventReload(o)},Ei)},decls:15,vars:8,consts:[[1,"exam-container"],[1,"exam-header","text-center"],[1,"timer-circle-container"],["viewBox","0 0 100 100",1,"timer-svg"],["cx","50","cy","50","r","45",1,"timer-background"],["cx","50","cy","50","r","45",1,"timer-progress"],["x","50","y","55",1,"timer-text"],[1,"question-nav","my-3","d-flex","flex-wrap","justify-content-center","gap-2"],["class","btn btn-sm",3,"ngClass","click",4,"ngFor","ngForOf"],["class","question-section mt-4",4,"ngIf"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"question-section","mt-4"],[1,"choices","mt-3"],["class","form-check",4,"ngFor","ngForOf"],[1,"navigation-buttons","mt-4","d-flex","justify-content-between"],[1,"btn","btn-secondary",3,"click","disabled"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"form-check"],["title","choice","type","radio","name","choice",1,"form-check-input",3,"ngModelChange","value","ngModel","id"],[1,"form-check-label",3,"for"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3),c(),l(4,"p"),u(5),c()(),l(6,"div",2),Be(),l(7,"svg",3),x(8,"circle",4)(9,"circle",5),l(10,"text",6),u(11),c()()(),We(),l(12,"div",7),O(13,_s,2,6,"button",8),c(),O(14,Ss,10,6,"div",9),c()),t&2&&(p(3),L(n.exam==null?null:n.exam.title),p(2),L(n.exam==null?null:n.exam.description),p(4),Tt("stroke",n.color),ki("stroke-dashoffset",n.dashOffset),p(2),L(n.displayTime),p(2),f("ngForOf",n.questions),p(),f("ngIf",n.currentQuestion))},dependencies:[R,j,pe,$,se,zt,Xi,Qt,Bt],styles:[".exam-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.timer-circle-container[_ngcontent-%COMP%]{width:150px;height:150px;margin:auto;position:relative;border-radius:50%;box-shadow:0 4px 16px #0000001a}.timer-svg[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.timer-background[_ngcontent-%COMP%]{fill:none;stroke:#3c3a3a;stroke-width:10}.timer-progress[_ngcontent-%COMP%]{fill:none;stroke-linecap:round;stroke-width:10;stroke-dasharray:282.6;transition:stroke-dashoffset 1s linear}.timer-text[_ngcontent-%COMP%]{font-size:18px;dominant-baseline:middle;text-anchor:middle;transform:rotate(90deg)}.exam-container[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:2rem;background-color:#ffffff0b;border-radius:1rem;box-shadow:0 0 12px #0000001a}.question-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700}.choices[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{margin-bottom:1rem}.question-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:50px;font-weight:500}"]})};var Sn=class i{constructor(e,t,n){this.fb=e;this.http=t;this.router=n;this.form=this.fb.group({username:["",[de.required,de.minLength(3)]],email:["",[de.required,de.email]],password:["",de.required],confirmPassword:["",de.required]})}form;get username(){return this.form.get("username")}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get confirmPassword(){return this.form.get("confirmPassword")}isLoading=!1;register(){if(this.form.valid&&this.form.value.password===this.form.value.confirmPassword){let e=he.baseUrl+"/User/register";this.http.post(e,this.form.value).subscribe({next:t=>{console.log("Registered successfully:",t),this.router.navigate(["/login"])},error:t=>{console.error("Register error:",t)}})}else console.log("Invalid form")}static \u0275fac=function(t){return new(t||i)(b($t),b(fe),b(q))};static \u0275cmp=P({type:i,selectors:[["app-register"]],decls:6,vars:8,consts:[[3,"ngSubmit","formGroup"],["label","Username","placeholder","Enter your Username","icon","fa-person","type","text",3,"control"],["label","Email","placeholder","Enter your email","icon","fa-envelope","type","email",3,"control"],["label","Password","placeholder","Enter your password","type","password",3,"control","showToggle"],["label","Confirm Password","placeholder","Enter your confirm password","type","password",3,"control","showToggle"],["text","Register","icon","fa-solid fa-right-to-bracket","type","submit",3,"loading"]],template:function(t,n){t&1&&(l(0,"form",0),w("ngSubmit",function(){return n.register()}),x(1,"app-custom-input",1)(2,"app-custom-input",2)(3,"app-custom-input",3)(4,"app-custom-input",4)(5,"app-button",5),c()),t&2&&(f("formGroup",n.form),p(),f("control",n.username),p(),f("control",n.email),p(),f("control",n.password)("showToggle",!0),p(),f("control",n.confirmPassword)("showToggle",!0),p(),f("loading",n.isLoading))},dependencies:[Fe,Re,se,it,nt,Ne,jt],styles:["form[_ngcontent-%COMP%]{width:400px;margin:50px auto 0;padding:30px;border:1px solid #28a745;border-radius:8px}"]})};var En=class i{constructor(e){this.http=e}apiUrl=he.baseUrl;updateChoicesRange(e){return this.http.put(`${this.apiUrl}/choice`,e)}deleteChoices(e){return this.http.post(`${this.apiUrl}/batch-delete`,e)}getChoice(e){return this.http.get(`${this.apiUrl}/choice/${e}`)}getQuestionChoices(e){return this.http.get(`${this.apiUrl}/choice/q/${e}`)}createChoice(e){return this.http.post(this.apiUrl,e)}updateChoice(e,t){return this.http.put(`${this.apiUrl}/${e}`,{text:t})}updateRange(e){return this.http.put(`${this.apiUrl}/choice`,e)}deleteChoice(e){return this.http.delete(`${this.apiUrl}/choice/${e}`)}static \u0275fac=function(t){return new(t||i)(re(fe))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var ws=i=>({"border-success border-2":i}),Ms=(i,e)=>({"btn-success":i,"btn-outline-secondary":e});function Ps(i,e){if(i&1){let t=F();l(0,"div",13)(1,"button",14),w("click",function(){let r=D(t).$implicit,o=C();return N(o.toggleCorrect(r))}),x(2,"i",15),c(),l(3,"span",16),u(4),c(),l(5,"input",17),At("ngModelChange",function(r){let o=D(t).$implicit;return It(o.text,r)||(o.text=r),N(r)}),w("ngModelChange",function(){let r=D(t).$implicit,o=C();return N(o.markChoiceAsUpdated(r))}),c(),l(6,"button",18),w("click",function(){let r=D(t).$implicit,o=C();return N(o.removeChoice(r))}),x(7,"i",19),c()()}if(i&2){let t=e.$implicit,n=e.index,r=C();f("ngClass",xe(8,ws,t.isCorrect))("@fadeSlide",void 0),p(),f("ngClass",Xe(10,Ms,t.isCorrect,!t.isCorrect)),p(),f("ngClass",t.isCorrect?"bi-check-lg":""),p(2),L(r.getChoiceLabel(n)),p(),f("name",Dt("choice",t.id??n)),Ot("ngModel",t.text)}}var _t=class i{constructor(e,t,n,r,o,s){this.questionService=e;this.choiceService=t;this.route=n;this.cdr=r;this.router=o;this.confirmService=s}isEditMode=!1;questionId;examId;questionTextControl=new Vt("",[de.required]);questionText="";choices=[];originalChoices=[];updatedChoices=[];deletedChoiceIds=[];originalQuestionText="";ngOnInit(){console.log("AddQuestion component being initialized"),this.route.data.subscribe(e=>{this.isEditMode=e.isEditMode===!0,this.isEditMode?this.route.paramMap.subscribe(t=>{this.questionId=+t.get("id"),this.loadQuestionForEdit(this.questionId?Number(this.questionId):0)}):this.route.paramMap.subscribe(t=>{this.examId=+t.get("examId"),console.log("Exam ID:",this.examId),this.questionText="",this.choices=[{text:"",isCorrect:!1}]}),console.log("Edit mode:",this.isEditMode)})}async loadQuestionForEdit(e){this.questionService.getQuestion(e).subscribe({next:t=>{this.questionText=t.data.text,this.originalQuestionText=t.data.text,this.examId=t.data.examId,this.questionTextControl.setValue(this.questionText),console.log("Question loaded:",this.questionText),t.data.id&&this.loadChoicesForEdit(t.data.id),this.cdr.detectChanges()},error:t=>{console.error("Error loading question:",t),this.router.navigate(["/not-found"])}})}loadChoicesForEdit(e){this.choiceService.getQuestionChoices(Number(e)).subscribe({next:t=>{this.choices=t.data.$values||[],this.originalChoices=[...this.choices],this.cdr.detectChanges()},error:t=>{console.error("Error loading choices:",t)}})}addChoice(){if(!(this.choices[this.choices.length-1]?.text?.trim()??!1)&&this.choices.length>0){this.confirmService.show("Empty Choice","Please fill the last choice before adding a new one.",()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0});return}this.choices.push({text:"",isCorrect:!1})}removeChoice(e){e.id&&this.deletedChoiceIds.push(e.id),this.choices=this.choices.filter(t=>t!=e)}markChoiceAsUpdated(e){e.id&&!this.updatedChoices.includes(e)&&this.updatedChoices.push(e)}markChoiceAsUnchanged(e){e.id&&!this.updatedChoices.includes(e)&&this.updatedChoices.push(e)}onCreate(){if(console.log(this.questionText,this.questionTextControl),!this.examId){this.confirmService.show("","Exam ID is required to create a question.",()=>{this.router.navigateByUrl("/admin-dashboard/exams")},{okText:"Ok",isSuccess:!1,isPrompt:!0});return}let e=this.isValidData();if(!e.isValid){this.confirmService.show("Invalid inputs",e.message,()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0});return}this.confirmService.show("Confirm Creation","Are you sure you want to create this question?",this.onCreateConfirmed)}onCreateConfirmed=()=>{console.log("Creating question with text:",this.questionTextControl);let e={text:this.questionTextControl.value??"",choices:this.choices.map(t=>({text:t.text,isCorrect:t.isCorrect??!1,questionId:this.questionId?Number(this.questionId):0})),examId:this.examId};console.log("Creating question with payload:",e),this.questionService.createQuestion(e).subscribe({next:t=>{console.log("Question created successfully:",t),this.confirmService.show("Success","Question updated successfully!",()=>{this.router.navigate(["/dashboard/exams",this.examId])},{okText:"Ok",isSuccess:!0,isPrompt:!0})},error:async t=>{console.error("Error creating question:",await t.message),this.confirmService.show("Error","Failed to create question. Please try again.",()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0})}})};onUpdate(){console.log(this.questionText,this.questionTextControl);let e=this.isValidData();if(!e.isValid){this.confirmService.show("Invalid inputs",e.message,()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0});return}this.confirmService.show("Confirm Update","Are you sure you want to update this question?",()=>{this.onUpdateConfirmed()})}onUpdateConfirmed=()=>{let e={text:this.questionTextControl.value??"",id:this.questionId?Number(this.questionId):0,choices:this.choices.map(t=>({id:t.id?Number(t.id):0,isCorrect:t.isCorrect??!1,questionId:this.questionId?Number(this.questionId):0,text:t.text}))};this.questionService.updateQuestion(Number(this.questionId),e).subscribe({next:t=>{console.log("Question updated successfully:",t),this.confirmService.show("Success","Question updated successfully!",()=>{this.router.navigate(["/dashboard/exams",this.examId])},{okText:"Ok",isSuccess:!0,isPrompt:!0})},error:t=>{console.error("Error updating question:",t),this.confirmService.show("Error","Failed to update question. Please try again.",()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0})}})};toggleCorrect(e){e.isCorrect=!e.isCorrect,this.markChoiceAsUpdated(e)}getChoiceLabel(e){return String.fromCharCode(65+e)}isValidData(){return this.questionTextControl.valid?this.choices.length>1?this.choices.every(n=>n.text.trim()!=="")?this.choices.some(n=>n.isCorrect)?{isValid:!0,message:"Valid data"}:{isValid:!1,message:"At least one choice must be marked as correct."}:{isValid:!1,message:"Choice can't be empty."}:{isValid:!1,message:"At least two choices are required."}:{isValid:!1,message:"Question text is required."}}static \u0275fac=function(t){return new(t||i)(b(qe),b(En),b(Se),b(oe),b(q),b(Me))};static \u0275cmp=P({type:i,selectors:[["app-add-question"]],inputs:{isEditMode:"isEditMode",questionId:"questionId",examId:"examId"},decls:15,vars:6,consts:[["questionForm","ngForm"],[1,"container","my-4"],[1,"card","shadow","rounded-3","animated-fade"],[1,"card-body","p-4"],[3,"ngSubmit"],[1,"form-floating","mb-4"],["placeholder","Enter your question",2,"color","#28a745 !important",3,"label","control"],[1,"rounded","border","p-3","animated-slide","mb-3"],[1,"mb-3","text-secondary"],["class","d-flex align-items-center mb-2 p-2 rounded shadow-sm choice-item-hover bak",3,"ngClass",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","mt-2","rounded-pill","add-choice-btn",3,"click"],[1,"bi","bi-plus-lg","me-1"],[1,"mt-2",3,"text","type","btnStyle"],[1,"d-flex","align-items-center","mb-2","p-2","rounded","shadow-sm","choice-item-hover","bak",3,"ngClass"],["type","button","title","Mark as Correct",1,"correct-toggle-box","me-2",3,"click","ngClass"],[1,"bi",3,"ngClass"],[1,"me-2","fw-bold",2,"color","#28a745"],["required","",1,"form-control","me-2","border-0","bg-white","shadow-none",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-outline-danger","btn-sm","rounded-circle","ms-2",3,"click"],[1,"bi","bi-x"]],template:function(t,n){if(t&1){let r=F();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",4,0),w("ngSubmit",function(){return D(r),N(n.isEditMode?n.onUpdate():n.onCreate())}),l(5,"div",5),x(6,"app-custom-input",6),c(),l(7,"div",7)(8,"h6",8),u(9,"Choices"),c(),O(10,Ps,8,13,"div",9),l(11,"button",10),w("click",function(){return D(r),N(n.addChoice())}),x(12,"i",11),u(13," Add Choice "),c()(),x(14,"app-button",12),c()()()()}t&2&&(p(6),f("label","Question Text")("control",n.questionTextControl),p(4),f("ngForOf",n.choices),p(4),f("text",n.isEditMode?"Save Changes":"Create Question")("type","submit")("btnStyle","primary"))},dependencies:[R,j,pe,se,it,zt,Qt,nt,Zi,Bt,Ji,Fe,Re],styles:[".animated-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in;background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.animated-slide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .4s ease-in}.slim-textarea[_ngcontent-%COMP%]{resize:none;overflow:hidden;min-height:38px;line-height:1.4;padding-top:.75rem;padding-bottom:.25rem}.choice-item-hover[_ngcontent-%COMP%]{position:relative;transition:background-color .3s ease,border .3s ease}.choice-item-hover[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.choice-item-hover[_ngcontent-%COMP%]:hover   .correct-toggle-btn[_ngcontent-%COMP%], .choice-item-hover[_ngcontent-%COMP%]:hover   .delete-choice-btn[_ngcontent-%COMP%]{opacity:1}.add-choice-btn[_ngcontent-%COMP%]{transition:all .3s;color:#28a745}.add-choice-btn[_ngcontent-%COMP%]:hover{background-color:#28a745;color:#fff}.bak[_ngcontent-%COMP%]{background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(15px);opacity:0}to{transform:translateY(0);opacity:1}}.correct-toggle-btn[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease;border-radius:50%;padding:4px 6px;font-size:.9rem}.delete-choice-btn[_ngcontent-%COMP%]{opacity:0}.correct-toggle-btn.btn-outline-secondary[_ngcontent-%COMP%]{border:1px solid #6c757d;color:#6c757d;background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.correct-toggle-btn[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease,transform .3s ease;border-radius:8px;padding:2px 6px;font-size:.85rem;height:28px;width:28px}.choice-item-hover[_ngcontent-%COMP%]:hover   .correct-toggle-btn[_ngcontent-%COMP%]{opacity:1}.correct-toggle-btn.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.correct-toggle-btn.btn-outline-secondary[_ngcontent-%COMP%]{border:1px solid #6c757d;color:#6c757d;background-color:#fff}.correct-toggle-btn.position-absolute[_ngcontent-%COMP%]{top:50%;right:35%;transform:translateY(-50%)}.correct-toggle-box[_ngcontent-%COMP%]{height:28px;width:28px;padding:2px;font-size:.85rem;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease,border .3s ease}.correct-toggle-box.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.correct-toggle-box.btn-outline-secondary[_ngcontent-%COMP%]{border:1px solid #6c757d;color:#6c757d}.choice-item-hover.border-success[_ngcontent-%COMP%]{border:2px solid #28a745!important}"],data:{animation:[De("fadeSlide",[we(":enter",[G({opacity:0,transform:"translateY(20px)"}),Ee("300ms ease-out",G({opacity:1,transform:"translateY(0)"}))]),we(":leave",[Ee("300ms ease-in",G({opacity:0,transform:"translateY(20px)"}))])])]}})};function Ts(i,e){if(i&1&&(l(0,"a",5)(1,"span",6),u(2),c(),l(3,"span"),u(4),c()()),i&2){let t=C().$implicit;f("routerLink",t.route),p(2),L(t.icon),p(2),L(t.label)}}function ks(i,e){if(i&1){let t=F();l(0,"a",7),w("click",function(){D(t);let r=C(2);return N(r.logout())}),l(1,"span",6),u(2),c(),l(3,"span"),u(4),c()()}if(i&2){let t=C().$implicit;p(2),L(t.icon),p(2),L(t.label)}}function Os(i,e){if(i&1&&(l(0,"li"),O(1,Ts,5,3,"a",4)(2,ks,5,2,"ng-template",null,0,Rt),c()),i&2){let t=e.$implicit,n=Pt(3);p(),f("ngIf",!t.isLogout)("ngIfElse",n)}}var wn=class i{router=X(q);authService=X(Z);logout(){this.authService.logout(),this.router.navigate(["/"])}sidebarItems=[{label:"Dashboard",icon:"dashboard",route:"/dashboard/statistics"},{label:"Exams",icon:"assignment",route:"/dashboard/exams"},{label:"Students",icon:"group",route:"/dashboard/students"},{label:"Logout",icon:"logout",isLogout:!0}];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["app-sidebar"]],decls:5,vars:1,consts:[["logoutTemplate",""],[1,"sidebar"],["routerLink","/dashboard",1,"logo","text-center","mb-4","mt-2","pb-3","border-bottom","border-1","border-secondary",2,"font-family","'Pacifico', cursive","font-size","2rem","color","#28a745","text-shadow","1px 1px 2px rgba(0, 0, 0, 0.2)","letter-spacing","2px","cursor","pointer"],[4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink",4,"ngIf","ngIfElse"],["routerLinkActive","active",3,"routerLink"],[1,"material-icons"],[1,"logout",3,"click"]],template:function(t,n){t&1&&(l(0,"aside",1)(1,"h4",2),u(2," QuizNest "),c(),l(3,"ul"),O(4,Os,4,2,"li",3),c()()),t&2&&(p(4),f("ngForOf",n.sidebarItems))},dependencies:[R,pe,$,tt,Lt,Hi],styles:[".sidebar[_ngcontent-%COMP%]{width:220px;background:#0f0f00;color:#fff;height:100vh;padding-top:20px;box-shadow:2px 0 10px #0000000f;position:fixed;left:0;top:0;z-index:100}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;text-decoration:none;padding:12px 20px;border-radius:4px;transition:background .2s;cursor:pointer}.sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#2d2d2d;border-radius:0;-webkit-border-radius:0px;-moz-border-radius:0px;-ms-border-radius:0px;-o-border-radius:0px}.sidebar[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:12px;font-size:22px}"]})};var Is=i=>({"dark-mode":i});function As(i,e){if(i&1){let t=F();l(0,"button",7),w("click",function(){D(t);let r=C(2);return N(r.confirm.cancel())}),u(1),c()}if(i&2){let t=C(2);p(),z(" ",t.confirm.cancelText," ")}}function Ds(i,e){if(i&1){let t=F();l(0,"div",1)(1,"div",2)(2,"h3"),u(3),c(),l(4,"p",3),u(5),c(),l(6,"div",4),O(7,As,2,1,"button",5),l(8,"button",6),w("click",function(){D(t);let r=C();return N(r.confirm.confirm())}),u(9),c()()()()}if(i&2){let t=C();f("ngClass",xe(6,Is,t.isDarkMode())),p(3),L(t.confirm.title),p(2),L(t.confirm.message),p(2),f("ngIf",!t.confirm.isPrompt),p(),f("ngClass",t.confirm.isSuccess?"confirm-success":"confirm-danger"),p(),z(" ",t.confirm.oKText," ")}}var ct=class i{constructor(e){this.confirm=e}isDarkMode(){return document.body.classList.contains("dark-mode")}static \u0275fac=function(t){return new(t||i)(b(Me))};static \u0275cmp=P({type:i,selectors:[["app-confirm"]],decls:1,vars:1,consts:[["class","confirm-overlay",3,"ngClass",4,"ngIf"],[1,"confirm-overlay",3,"ngClass"],[1,"confirm-box","animate"],[2,"min-width","max-content"],[1,"confirm-actions"],["class","btn cancel",3,"click",4,"ngIf"],[1,"btn","confirm",3,"click","ngClass"],[1,"btn","cancel",3,"click"]],template:function(t,n){t&1&&O(0,Ds,10,8,"div",0),t&2&&f("ngIf",n.confirm.visible())},dependencies:[R,j,$],styles:[".confirm-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;align-items:center;justify-content:center;z-index:9999}.confirm-box[_ngcontent-%COMP%]{background:#fff;color:#222;padding:24px 20px;border-radius:10px;width:90%;max-width:fit-content;box-shadow:0 10px 25px #0003;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.confirm-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px}.confirm-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:6px;cursor:pointer;font-weight:700;transition:background .3s ease}.confirm[_ngcontent-%COMP%]{color:#fff}.confirm-success[_ngcontent-%COMP%]{background:linear-gradient(to right,#28a745,#218838)}.confirm-success[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#218838,#28a745)}.confirm-danger[_ngcontent-%COMP%]{background-color:#e23a3a}.cancel[_ngcontent-%COMP%]{background-color:#ccc;color:#333}.cancel[_ngcontent-%COMP%]:hover{background-color:#b0b0b0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.dark-mode[_ngcontent-%COMP%]   .confirm-box[_ngcontent-%COMP%]{background:#2a2a2a;color:#fff}.dark-mode[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#444;color:#fff}.dark-mode[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:#e23a3a}"]})};var Ns=(i,e)=>["show",i,e];function Rs(i,e){if(i&1){let t=F();l(0,"div",1)(1,"span",2),u(2),c(),l(3,"span",3),u(4),c(),l(5,"button",4),w("click",function(){D(t);let r=C();return N(r.close())}),u(6,"\xD7"),c()()}if(i&2){let t=C();f("ngClass",Xe(3,Ns,t.type,t.isDark?"dark-mode":"")),p(2),L(t.icon),p(2),L(t.message)}}var Mn=class i{constructor(e,t,n){this.toastService=e;this.cdr=t;this.ngZone=n;this.toastService.register(this),this.checkDarkMode()}message="";type="info";icon="";visible=!1;isDark=!1;queue=[];isShowing=!1;show(e,t="info",n=3e3){this.queue.push({msg:e,type:t,duration:n}),this.isShowing||this.next()}checkDarkMode(){this.isDark=document.body.classList.contains("dark-mode")}next(){if(this.queue.length===0)return;let{msg:e,type:t,duration:n}=this.queue.shift();this.ngZone.run(()=>{this.message=e,this.type=t,this.icon=this.getIcon(t),this.checkDarkMode(),this.visible=!0,this.isShowing=!0,this.cdr.markForCheck()}),setTimeout(()=>{this.ngZone.run(()=>{this.visible=!1,this.isShowing=!1,this.cdr.markForCheck(),setTimeout(()=>this.next(),300)})},n)}close(){this.ngZone.run(()=>{this.visible=!1,this.isShowing=!1,this.cdr.markForCheck(),setTimeout(()=>this.next(),200)})}getIcon(e){switch(e){case"success":return"\u2714\uFE0F";case"error":return"\u274C";case"warning":return"\u26A0\uFE0F";case"info":default:return"\u2139\uFE0F"}}static \u0275fac=function(t){return new(t||i)(b(Ut),b(oe),b(Et))};static \u0275cmp=P({type:i,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","toast",3,"ngClass",4,"ngIf"],[1,"toast",3,"ngClass"],[1,"icon"],[1,"message"],[1,"close-btn",3,"click"]],template:function(t,n){t&1&&O(0,Rs,7,6,"div",0),t&2&&f("ngIf",n.visible)},dependencies:[R,j,$],styles:[".toast[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;min-width:260px;max-width:400px;background:#323232;color:#fff;padding:14px 20px;border-radius:8px;box-shadow:0 4px 12px #0003;opacity:0;transform:translateY(-20px);transition:all .3s ease-in-out;z-index:9999;display:flex;align-items:center;gap:1rem;display:none}.toast.show[_ngcontent-%COMP%]{display:flex;opacity:1;transform:translateY(0)}.toast.dark-mode[_ngcontent-%COMP%]{background:#1f1f1f;color:#eee}.toast.success[_ngcontent-%COMP%]{background-color:#4caf50}.toast.error[_ngcontent-%COMP%]{background-color:#f44336}.toast.info[_ngcontent-%COMP%]{background-color:#2196f3}.toast.warning[_ngcontent-%COMP%]{background-color:#ff9800}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.message[_ngcontent-%COMP%]{flex-grow:1;font-size:.95rem}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:inherit;font-size:1.4rem;cursor:pointer;line-height:1}"],changeDetection:0})};var Fs=["dashboardContainer"],Pn=class i{constructor(e){this.renderer=e;document.body.classList.toggle("dark-mode",this.darkMode)}darkMode=localStorage.getItem("dark")==="true";dashboardRef;ngAfterViewInit(){this.updateContainerTheme()}toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("dark",this.darkMode.toString()),document.body.classList.toggle("dark-mode",this.darkMode),this.updateContainerTheme(),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{dark:this.darkMode}}))}updateContainerTheme(){this.dashboardRef&&(this.darkMode?this.renderer.addClass(this.dashboardRef.nativeElement,"dashboard-container-dark"):this.renderer.removeClass(this.dashboardRef.nativeElement,"dashboard-container-dark"))}static \u0275fac=function(t){return new(t||i)(b(Pi))};static \u0275cmp=P({type:i,selectors:[["app-admin-dashboard"]],viewQuery:function(t,n){if(t&1&&Ai(Fs,5),t&2){let r;Di(r=Ni())&&(n.dashboardRef=r.first)}},decls:11,vars:3,consts:[["dashboardContainer",""],[1,"dashboard-container"],[1,"sidebar"],[1,"main-content"],[1,"dashboard-header","d-flex","justify-content-end","align-items-center","p-4","mt-2"],[1,"theme-toggle-container",3,"click"],[1,"theme-toggle-circle"],[1,"bi",3,"ngClass"]],template:function(t,n){if(t&1){let r=F();l(0,"div",1,0),x(2,"app-sidebar",2),l(3,"main",3)(4,"header",4)(5,"div",5),w("click",function(){return D(r),N(n.toggleTheme())}),l(6,"div",6),x(7,"i",7),c()()(),x(8,"app-confirm")(9,"app-toast")(10,"router-outlet"),c()()}t&2&&(p(6),Je("move-left",n.darkMode),p(),f("ngClass",n.darkMode?"bi-sun-fill":"bi-moon-fill"))},dependencies:[wn,et,ct,Mn,R,j],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f5f5f5}.dashboard-container-dark[_ngcontent-%COMP%]{background:inherit!important}.sidebar[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.sidebar.closed[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{flex-grow:1;padding:0rem 2rem 2rem;margin-left:220px;transition:margin-left .3s ease-in-out}.sidebar.closed[_ngcontent-%COMP%] + .main-content[_ngcontent-%COMP%]{margin-left:0}",".theme-toggle-container[_ngcontent-%COMP%]{top:20px;right:20px;width:60px;height:30px;background-color:#ccc;border-radius:30px;cursor:pointer;transition:background-color .4s ease;z-index:999}body.dark-mode[_ngcontent-%COMP%]   .theme-toggle-container[_ngcontent-%COMP%]{background-color:#444}.theme-toggle-circle[_ngcontent-%COMP%]{width:29px;height:29px;background-color:#fff;color:gold;border-radius:50%;text-align:center;line-height:29px;font-size:16px;box-shadow:0 2px 5px #0003;transition:transform .4s ease;transform:translate(30px)}.theme-toggle-circle.move-left[_ngcontent-%COMP%]{transform:translate(2px)}"]})};var vt=(i,e)=>{let t=X(Z),n=X(q);return t.isAuthenticated()?!0:n.navigate(["/login"])};var Ls=i=>["/profile",i];function qs(i,e){i&1&&(wt(0),l(1,"li",5)(2,"a",10),u(3,"Login"),c()(),l(4,"li",5)(5,"a",11),u(6,"Register"),c()(),Mt())}function zs(i,e){if(i&1){let t=F();l(0,"li",5)(1,"a",12),x(2,"i",13),u(3," Profile"),c()(),l(4,"li",5)(5,"a",14),w("click",function(){D(t);let r=C();return N(r.logout())}),x(6,"i",15),u(7," Logout"),c()()}if(i&2){let t=C();p(),f("routerLink",xe(1,Ls,t.studentId))}}var Tn=class i{router=X(q);authService=X(Z);isLoggedIn=!1;darkMode=localStorage.getItem("dark")==="true";studentId=localStorage.getItem("userId");constructor(){document.body.classList.toggle("dark-mode",this.darkMode),this.studentId=localStorage.getItem("userId")}ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e})}toggleTheme(){this.darkMode=!this.darkMode,localStorage.setItem("dark",this.darkMode.toString()),document.body.classList.toggle("dark-mode",this.darkMode),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{dark:this.darkMode}}))}logout(){this.authService.logout(),this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["app-header"]],decls:13,vars:5,consts:[["logged",""],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","px-3"],["routerLink","/",2,"font-family","'Pacifico', cursive","font-size","2rem","color","#28a745","text-shadow","1px 1px 2px rgba(0, 0, 0, 0.2)","letter-spacing","2px","padding-bottom","10px","margin-right","14px","cursor","pointer"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ms-auto","d-flex","align-items-center"],[1,"nav-item","mx-1"],[1,"theme-toggle-container",3,"click"],[1,"theme-toggle-circle"],[1,"bi",3,"ngClass"],[4,"ngIf","ngIfElse"],["routerLink","/login",1,"nav-link"],["routerLink","/register",1,"nav-link"],[1,"nav-link",3,"routerLink"],[1,"fa","fa-user"],[1,"nav-link","cursor-pointer",3,"click"],[1,"fa","fa-sign-out-alt"]],template:function(t,n){if(t&1){let r=F();l(0,"nav",1)(1,"h2",2),u(2," QuizNest "),c(),l(3,"a",3),u(4,"Home"),c(),l(5,"ul",4)(6,"li",5)(7,"div",6),w("click",function(){return D(r),N(n.toggleTheme())}),l(8,"div",7),x(9,"i",8),c()()(),O(10,qs,7,0,"ng-container",9)(11,zs,8,3,"ng-template",null,0,Rt),c()()}if(t&2){let r=Pt(12);p(8),Je("move-left",n.darkMode),p(),f("ngClass",n.darkMode?"bi-sun-fill":"bi-moon-fill"),p(),f("ngIf",!n.isLoggedIn)("ngIfElse",r)}},dependencies:[tt,Lt,R,j,$],styles:[".theme-toggle-container[_ngcontent-%COMP%]{top:20px;right:20px;width:60px;height:30px;background-color:#ccc;border-radius:30px;cursor:pointer;transition:background-color .4s ease;z-index:999}body.dark-mode[_ngcontent-%COMP%]   .theme-toggle-container[_ngcontent-%COMP%]{background-color:#444}.theme-toggle-circle[_ngcontent-%COMP%]{width:29px;height:29px;background-color:#fff;color:gold;border-radius:50%;text-align:center;line-height:29px;font-size:16px;box-shadow:0 2px 5px #0003;transition:transform .4s ease;transform:translate(30px)}.theme-toggle-circle.move-left[_ngcontent-%COMP%]{transform:translate(2px)}"]})};var kn=class i{currentYear=new Date().getFullYear();darkMode=!1;ngOnInit(){this.currentYear=new Date().getFullYear(),this.darkMode=localStorage.getItem("dark")==="true",window.addEventListener("themeChanged",this.handleThemeChange)}ngOnDestroy(){window.removeEventListener("themeChanged",this.handleThemeChange)}handleThemeChange=e=>{let t=e;this.darkMode=t.detail.dark};static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["app-footer"]],decls:127,vars:3,consts:[[1,"main-footer"],[1,"footer-container"],[1,"footer-top"],[1,"footer-brand"],[1,"brand-logo"],[1,"logo-icon"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","40","height","40","rx","12","fill","url(#brandGradient)"],["d","M12 20L18 26L28 14","stroke","white","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["id","brandGradient","x1","0%","y1","0%","x2","100%","y2","100%"],["offset","0%",2,"stop-color","#28a745","stop-opacity","1"],["offset","100%",2,"stop-color","#28a745","stop-opacity","1"],[1,"brand-text"],["routerLink","/",2,"font-family","'Pacifico', cursive","font-size","2rem","color","#28a745","text-shadow","1px 1px 2px rgba(0, 0, 0, 0.2)","letter-spacing","2px","padding-bottom","10px","cursor","pointer"],[1,"brand-description"],[1,"footer-links"],[1,"footer-column"],["href","#"],[1,"footer-middle"],[1,"footer-stats"],[1,"stat-item"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-number"],[1,"stat-label"],[1,"footer-bottom"],[1,"footer-legal"],[1,"copyright"],[1,"legal-links"],[1,"footer-social"],[1,"social-links"],["href","#","aria-label","Follow us on Twitter",1,"social-link"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],["href","#","aria-label","Follow us on LinkedIn",1,"social-link"],["d","M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"],["href","#","aria-label","Follow us on GitHub",1,"social-link"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"]],template:function(t,n){t&1&&(l(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Be(),l(6,"svg",6),x(7,"rect",7)(8,"path",8),l(9,"defs")(10,"linearGradient",9),x(11,"stop",10)(12,"stop",11),c()()()(),We(),l(13,"div",12)(14,"h2",13),u(15," QuizNest "),c(),l(16,"p"),u(17,"Excellence in Online Assessment"),c()()(),l(18,"div",14)(19,"p"),u(20," Empowering students and educators with cutting-edge examination technology. Secure, reliable, and user-friendly platform for all your assessment needs. "),c()()(),l(21,"div",15)(22,"div",16)(23,"h3"),u(24,"Platform"),c(),l(25,"ul")(26,"li")(27,"a",17),u(28,"Features"),c()(),l(29,"li")(30,"a",17),u(31,"Security"),c()(),l(32,"li")(33,"a",17),u(34,"Analytics"),c()(),l(35,"li")(36,"a",17),u(37,"Integration"),c()()()(),l(38,"div",16)(39,"h3"),u(40,"Resources"),c(),l(41,"ul")(42,"li")(43,"a",17),u(44,"Help Center"),c()(),l(45,"li")(46,"a",17),u(47,"Tutorials"),c()(),l(48,"li")(49,"a",17),u(50,"FAQ"),c()(),l(51,"li")(52,"a",17),u(53,"Documentation"),c()()()(),l(54,"div",16)(55,"h3"),u(56,"Support"),c(),l(57,"ul")(58,"li")(59,"a",17),u(60,"Contact Us"),c()(),l(61,"li")(62,"a",17),u(63,"Technical Support"),c()(),l(64,"li")(65,"a",17),u(66,"Feedback"),c()(),l(67,"li")(68,"a",17),u(69,"System Status"),c()()()()()(),l(70,"div",18)(71,"div",19)(72,"div",20)(73,"div",21),u(74,"\u{1F4CA}"),c(),l(75,"div",22)(76,"span",23),u(77,"10K+"),c(),l(78,"span",24),u(79,"Exams Completed"),c()()(),l(80,"div",20)(81,"div",21),u(82,"\u{1F393}"),c(),l(83,"div",22)(84,"span",23),u(85,"5K+"),c(),l(86,"span",24),u(87,"Students"),c()()(),l(88,"div",20)(89,"div",21),u(90,"\u{1F468}\u200D\u{1F3EB}"),c(),l(91,"div",22)(92,"span",23),u(93,"500+"),c(),l(94,"span",24),u(95,"Educators"),c()()(),l(96,"div",20)(97,"div",21),u(98,"\u{1F3C6}"),c(),l(99,"div",22)(100,"span",23),u(101,"99.9%"),c(),l(102,"span",24),u(103,"Uptime"),c()()()()(),l(104,"div",25)(105,"div",26)(106,"div",27)(107,"p"),u(108),c()(),l(109,"div",28)(110,"a",17),u(111,"Privacy Policy"),c(),l(112,"a",17),u(113,"Terms of Service"),c(),l(114,"a",17),u(115,"Cookie Policy"),c()()(),l(116,"div",29)(117,"div",30)(118,"a",31),Be(),l(119,"svg",32),x(120,"path",33),c()(),We(),l(121,"a",34),Be(),l(122,"svg",32),x(123,"path",35),c()(),We(),l(124,"a",36),Be(),l(125,"svg",32),x(126,"path",37),c()()()()()()()),t&2&&(Je("dark-mode",n.darkMode),p(108),z("\xA9 ",n.currentYear," Exam System. All rights reserved."))},styles:['.main-footer[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#fffffff2,#f8fafcfa);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid rgba(0,0,0,.1);margin-top:50px;overflow:hidden}.main-footer.dark-mode[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f0f0f,#1f1f1f,#2b2b2b);border-top:1px solid rgba(255,255,255,.1)}.footer-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:60px 30px 30px;position:relative}.footer-top[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:60px;margin-bottom:50px}.footer-brand[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px}.brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.logo-icon[_ngcontent-%COMP%]{position:relative;transform:rotate(-5deg);transition:transform .3s ease}.logo-icon[_ngcontent-%COMP%]:hover{transform:rotate(0) scale(1.05)}.brand-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1f2937;font-size:2rem;font-weight:700;margin:0;background:linear-gradient(135deg,#28a745,#1e7e34);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.main-footer.dark-mode[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f9fafb}.brand-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem;margin:5px 0 0;font-weight:500}.main-footer.dark-mode[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d1d5db}.brand-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af;line-height:1.6;font-size:.95rem;max-width:450px}.main-footer.dark-mode[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.footer-links[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:40px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1f2937;font-size:1.1rem;font-weight:600;margin-bottom:20px;position:relative}.main-footer.dark-mode[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:0;width:30px;height:3px;background:linear-gradient(90deg,#28a745,#1e7e34);border-radius:2px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6b7280;text-decoration:none;font-size:.9rem;transition:all .3s ease;position:relative;display:inline-block}.main-footer.dark-mode[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d1d5db}.footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#28a745;transform:translate(5px)}.footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:0;width:0;height:2px;background:#28a745;transition:width .3s ease}.footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{width:100%}.footer-middle[_ngcontent-%COMP%]{margin-bottom:50px}.footer-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:30px;padding:40px;background:#fffc;border-radius:20px;border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 6px -1px #0000001a}.main-footer.dark-mode[_ngcontent-%COMP%]   .footer-stats[_ngcontent-%COMP%]{background:#0006;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 6px -1px #0000004d}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:20px;background:#28a7450d;border-radius:15px;transition:all .3s ease;position:relative;overflow:hidden}.main-footer.dark-mode[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:#28a7451a}.stat-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #28a74526}.stat-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#28a745,#1e7e34)}.stat-icon[_ngcontent-%COMP%]{font-size:2rem;filter:grayscale(.3);transition:filter .3s ease}.stat-item[_ngcontent-%COMP%]:hover   .stat-icon[_ngcontent-%COMP%]{filter:grayscale(0)}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#28a745;margin-bottom:2px}.stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;font-weight:500}.main-footer.dark-mode[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#d1d5db}.footer-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:30px;border-top:1px solid rgba(0,0,0,.1);position:relative}.main-footer.dark-mode[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1)}.footer-legal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af;font-size:.9rem;margin:0}.legal-links[_ngcontent-%COMP%]{display:flex;gap:25px}.legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6b7280;text-decoration:none;font-size:.85rem;transition:color .3s ease}.main-footer.dark-mode[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d1d5db}.legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#28a745}.footer-social[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.social-links[_ngcontent-%COMP%]{display:flex;gap:15px}.social-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#fffc;border:1px solid rgba(0,0,0,.1);border-radius:10px;color:#6b7280;text-decoration:none;transition:all .3s ease;position:relative;overflow:hidden;margin-bottom:2rem}.main-footer.dark-mode[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{background:#0006;border:1px solid rgba(255,255,255,.1);color:#d1d5db}.social-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,#28a745,#1e7e34);transition:left .3s ease;z-index:1}.social-link[_ngcontent-%COMP%]:hover:before{left:0}.social-link[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #28a7454d;color:#fff}.social-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;z-index:2;transition:transform .3s ease}.social-link[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.footer-decoration[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:40px;background:linear-gradient(90deg,#28a745,#20c997,#28a745);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 -2px 10px #28a7454d}.footer-decoration[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-50%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);animation:_ngcontent-%COMP%_shine 2.5s infinite}.decoration-line[_ngcontent-%COMP%]{position:absolute;width:80%;height:3px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.8),transparent);top:50%;transform:translateY(-50%);border-radius:2px;animation:_ngcontent-%COMP%_breathe 3s ease-in-out infinite}.decoration-dots[_ngcontent-%COMP%]{display:flex;gap:16px;z-index:3;background:#fff3;padding:10px 20px;border-radius:25px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border:2px solid rgba(255,255,255,.3);box-shadow:0 4px 15px #0000001a}.decoration-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:linear-gradient(45deg,#fff,#f8f9fa);animation:_ngcontent-%COMP%_bounce 1.8s infinite;box-shadow:0 0 15px #fffc,0 0 25px #28a74566,inset 0 2px 4px #ffffff80;border:2px solid rgba(255,255,255,.6)}.decoration-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.decoration-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.decoration-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}@keyframes _ngcontent-%COMP%_bounce{0%,60%,to{transform:translateY(0) scale(1);box-shadow:0 0 10px #fff9,0 0 20px #28a7454d,inset 0 2px 4px #ffffff80}30%{transform:translateY(-8px) scale(1.1);box-shadow:0 0 20px #fff,0 0 30px #28a74599,inset 0 2px 4px #fffc}}@keyframes _ngcontent-%COMP%_shine{0%{left:-50%;opacity:0}50%{opacity:1}to{left:100%;opacity:0}}@keyframes _ngcontent-%COMP%_breathe{0%,to{opacity:.6;transform:translateY(-50%) scaleX(1)}50%{opacity:1;transform:translateY(-50%) scaleX(1.1)}}.main-footer.dark-mode[_ngcontent-%COMP%]   .footer-decoration[_ngcontent-%COMP%]{box-shadow:0 -2px 10px #28a74580}.main-footer.dark-mode[_ngcontent-%COMP%]   .decoration-dots[_ngcontent-%COMP%]{background:#0000004d;border:2px solid rgba(255,255,255,.2)}.main-footer.dark-mode[_ngcontent-%COMP%]   .decoration-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e9ecef,#fff);border:2px solid rgba(255,255,255,.4)}@media (max-width: 1024px){.footer-top[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:40px}.footer-links[_ngcontent-%COMP%], .footer-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.footer-container[_ngcontent-%COMP%]{padding:40px 20px 20px}.footer-links[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:30px}.footer-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px;padding:30px}.footer-bottom[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}.footer-legal[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.legal-links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.brand-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.footer-container[_ngcontent-%COMP%]{padding:30px 15px 15px}.brand-logo[_ngcontent-%COMP%], .stat-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:10px}.social-links[_ngcontent-%COMP%]{justify-content:center}}']})};var On=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=P({type:i,selectors:[["app-main-layout"]],decls:4,vars:0,template:function(t,n){t&1&&(x(0,"app-header"),l(1,"main"),x(2,"router-outlet"),c(),x(3,"app-footer"))},dependencies:[et,Tn,kn],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 150px)}"]})};function Vs(i,e){if(i&1&&(l(0,"div",2)(1,"h1",3),u(2),c(),l(3,"p"),u(4),Te(5,"date"),c(),l(6,"p"),u(7),Te(8,"date"),c()()),i&2){let t=C();p(2),z("\u{1F4CA} Score ",t.result==null?null:t.result.score),p(2),z(" Start time: ",Ae(5,3,t.result==null?null:t.result.startTime,"medium")),p(3),z(" End time: ",Ae(8,6,t.result==null?null:t.result.endTime,"medium"))}}var Ct=class i{constructor(e,t,n,r,o){this.resultService=e;this.studentService=t;this.router=n;this.activeRoute=r;this.cdr=o}resultId=0;result;isLoading=!0;ngOnInit(){this.activeRoute.params.subscribe(e=>{this.resultId=+e.resultId,this.isLoading=!1,this.loadResults()})}loadResults(){this.resultService.getResultById(this.resultId).subscribe({next:e=>{console.log("Result:",e),this.result=e.data,this.cdr.detectChanges()},error:e=>{console.error("Error fetching result:",e)}})}static \u0275fac=function(t){return new(t||i)(b(rt),b(Kt),b(q),b(Se),b(oe))};static \u0275cmp=P({type:i,selectors:[["app-show-result"]],decls:2,vars:1,consts:[[1,"container","my-4","text-center"],["class","header animate-fade-in text-center mb-5",4,"ngIf"],[1,"header","animate-fade-in","text-center","mb-5"],[1,"display-5","fw-bold"]],template:function(t,n){t&1&&(l(0,"div",0),O(1,Vs,9,9,"div",1),c()),t&2&&(p(),f("ngIf",!n.isLoading))},dependencies:[R,$,Ze],encapsulation:2})};var to=(i,e)=>{let t=X(Z),n=X(q);return t.isAdmin()?!0:n.navigate(["/"])};var Bs=(i,e,t)=>({"bg-status-success":i,"bg-status-warning":e,"bg-status-fail":t});function js(i,e){if(i&1&&(l(0,"div",8)(1,"h1",9),u(2),c()()),i&2){let t=C();p(2),z("\u{1F4CA} ",t.student==null?null:t.student.username,"'s Exam Results")}}function $s(i,e){if(i&1&&(l(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),u(4),c(),l(5,"h6",14),u(6),c(),l(7,"div",15)(8,"div",16)(9,"span",17),u(10,"Description"),c(),l(11,"span",18),u(12),Te(13,"slice"),c()(),l(14,"div",16)(15,"span",17),u(16,"Score"),c(),l(17,"span",19)(18,"span",20),u(19),c()()(),l(20,"div",16)(21,"span",17),u(22,"Status"),c(),l(23,"span",19)(24,"span",21),u(25),c()()(),l(26,"div",16)(27,"span",17),u(28,"Attempted At"),c(),l(29,"span",22),u(30),Te(31,"date"),c()()()()()()),i&2){let t=e.$implicit;f("@fadeInStagger",void 0),p(4),L(t.exam.title),p(2),z(" Attempt #",t.attemptNumber," "),p(6),kt(" ",Ri(13,9,t.exam.description,0,80),"",t.exam.description.length>80?"...":""," "),p(7),z(" ",t.score," "),p(5),f("ngClass",Nt(16,Bs,t.status==="Completed",t.status==="Started",t.status==="Failed")),p(),z(" ",t.status," "),p(5),z(" ",Ae(31,13,t.takenAt,"medium")," ")}}function Us(i,e){i&1&&(l(0,"div",23)(1,"p",24),u(2,"No results found for this student."),c()())}var In=class i{constructor(e,t,n,r,o,s){this.resultService=e;this.studentService=t;this.router=n;this.activeRoute=r;this.cdr=o;this.location=s}results=[];student;studentId;isLoading=!0;goBack(){this.location.back()}ngOnInit(){this.activeRoute.params.subscribe(e=>{if(this.studentId=+e.studentId,!this.studentId)return this.router.navigate(["/not-found"]);this.loadStudent()?.subscribe({next:t=>{this.isLoading=!1,this.loadResults()},error:t=>{this.isLoading=!1,console.error("Error fetching the results:",t)}})})}loadStudent(){if(!this.studentId){console.error("Student ID is not set.");return}let e=this.studentService.getStudentById(this.studentId);return e.subscribe({next:t=>{console.log("Student:",t),this.student=t,this.cdr.detectChanges()},error:t=>{this.router.navigate(["/not-found"]),console.error("Error fetching student:",t)}}),e}loadResults(){if(!this.studentId){console.error("Student ID is not set.");return}this.resultService.getResultByStudentId(this.studentId).subscribe({next:e=>{console.log("Result:",e),this.results=e?.data?.$values?.filter(t=>t.exam?.id!=null&&t.exam?.id!=null)||[],this.cdr.detectChanges()},error:e=>{console.error("Error fetching result:",e)}})}static \u0275fac=function(t){return new(t||i)(b(rt),b(Kt),b(q),b(Se),b(oe),b(Ft))};static \u0275cmp=P({type:i,selectors:[["app-profile"]],decls:9,vars:3,consts:[[1,"container","my-4"],[1,"text-start","mb-3"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left","me-1"],["class","header animate-fade-in text-center mb-5",4,"ngIf"],[1,"row"],["class","col-12 col-md-6 mb-4",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"header","animate-fade-in","text-center","mb-5"],[1,"display-5","fw-bold"],[1,"col-12","col-md-6","mb-4"],[1,"card","result-card","h-100","shadow-sm"],[1,"card-body","d-flex","flex-column"],[1,"card-title","mb-2"],[1,"card-subtitle","text-muted","mb-4"],[1,"result-details"],[1,"detail-row"],[1,"label"],[1,"value","text-truncate"],[1,"value"],[1,"badge","bg-score"],[1,"badge",3,"ngClass"],[1,"value","text-muted","small"],[1,"text-center"],[1,"text-muted"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),w("click",function(){return n.goBack()}),x(3,"i",3),u(4," Back "),c()(),O(5,js,3,1,"div",4),l(6,"div",5),O(7,$s,32,20,"div",6),c(),O(8,Us,3,0,"div",7),c()),t&2&&(p(5),f("ngIf",!n.isLoading),p(2),f("ngForOf",n.results),p(),f("ngIf",n.results.length===0&&!n.isLoading))},dependencies:[R,j,pe,$,qi,Ze],styles:[".header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:30px;margin-bottom:30px;border:1px solid rgba(255,255,255,.2);text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:10px 0 0}.result-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8eaf6,#f3e5f5);border:none;border-radius:1rem;color:#333;transition:transform .3s ease,box-shadow .3s ease;overflow:hidden;padding:.5rem}.result-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001a}.result-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#3949ab;font-weight:700;font-size:1.25rem}.result-card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{color:#7e57c2;font-size:.95rem}.result-card[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem}.result-card[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px dashed rgba(0,0,0,.05);padding-bottom:.4rem}.result-card[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#3a3f73}.result-card[_ngcontent-%COMP%]   .result-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500;display:flex;align-items:center;text-align:right}.result-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.4em .7em;border-radius:.5rem}.result-card[_ngcontent-%COMP%]   .bg-score[_ngcontent-%COMP%]{background:linear-gradient(to right,#5c6bc0,#7e57c2);color:#fff}.result-card[_ngcontent-%COMP%]   .bg-status-success[_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff}.result-card[_ngcontent-%COMP%]   .bg-status-warning[_ngcontent-%COMP%]{background-color:#ffa726;color:#fff}.result-card[_ngcontent-%COMP%]   .bg-status-fail[_ngcontent-%COMP%]{background-color:#ef5350;color:#fff}.header.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInHeader 1s ease forwards}@keyframes _ngcontent-%COMP%_fadeInHeader{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.result-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.result-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.01);box-shadow:0 16px 32px #00000026}"],data:{animation:[De("fadeInStagger",[we("* => *",[Yi(":enter",[G({opacity:0,transform:"translateY(20px)"}),Wi("100ms",[Ee("600ms ease-out",G({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})};var Hs=i=>({"choice-correct":i});function Ks(i,e){i&1&&(l(0,"div",8),x(1,"div",9),c())}function Gs(i,e){i&1&&(l(0,"div",10),u(1," No questions found. "),c())}function Ys(i,e){if(i&1&&(l(0,"div",26),u(1),c()),i&2){let t=e.$implicit;f("ngClass",xe(2,Hs,t.isCorrect)),p(),z(" ",t.text," ")}}function Ws(i,e){if(i&1&&(l(0,"div",24),O(1,Ys,2,4,"div",25),c()),i&2){let t=C().$implicit;f("@slideToggle",void 0),p(),f("ngForOf",t.choices)}}function Js(i,e){if(i&1){let t=F();l(0,"div",12)(1,"div",13)(2,"div",14),u(3),c(),l(4,"div",15)(5,"span",16),u(6),c(),l(7,"button",17),w("click",function(){let r=D(t).$implicit,o=C(2);return N(o.onEdit(r))}),x(8,"i",18),c(),l(9,"button",19),w("click",function(){let r=D(t).$implicit,o=C(2);return N(o.onDelete(r.id??0))}),x(10,"i",20),c(),l(11,"button",21),w("click",function(){let r=D(t).$implicit,o=C(2);return N(o.toggleExpand(r.id??0))}),x(12,"i",22),c()()(),O(13,Ws,2,2,"div",23),c()}if(i&2){let t=e.$implicit,n=C(2);p(3),L(t.text),p(3),z("",t.choices.length," Options"),p(6),f("ngClass",n.isExpanded(t.id??0)?"bi bi-chevron-up":"bi bi-chevron-down"),p(),f("ngIf",n.isExpanded(t.id??0))}}function Xs(i,e){if(i&1&&(l(0,"div"),O(1,Js,14,4,"div",11),c()),i&2){let t=C();p(),f("ngForOf",t.questions)}}var An=class i{constructor(e,t,n,r,o,s){this.questionsService=e;this.examService=t;this.router=n;this.cdr=r;this.route=o;this.confirmService=s}examId=1;questions=[];isLoading=!1;error="";expandedQuestionIds=new Set;exam;ngOnInit(){this.route.params.subscribe(e=>{this.examId=+e.id,this.loadExam(),this.loadQuestions()})}loadExam(){this.isLoading=!0,this.examService.getExamById(this.examId).subscribe({next:e=>{console.log("Exam loaded:",e),this.exam=e,this.isLoading=!1,this.cdr.detectChanges()},error:e=>{console.error("Failed to load exam",e),this.error="Failed to load exam",this.isLoading=!1,this.cdr.detectChanges()}})}loadQuestions(){this.isLoading=!0;let e=this.questionsService.getQuestionsByExamIdWithChoices(this.examId).subscribe({next:t=>{console.log("Questions loaded:",t.data);let n=t?.data?.$values||[];if(!Array.isArray(n))this.questions=[];else{let r=n.map(o=>(console.log("Choices for question:",o?.choices.$values),o.choices=o?.choices?.$values||[],o));this.questions=r,console.log("Extracted questions:",this.questions)}this.isLoading=!1,this.cdr.detectChanges()},error:t=>{console.error("Failed to load questions",t),this.error="Failed to load questions",this.isLoading=!1,this.cdr.detectChanges()}})}toggleExpand(e){this.expandedQuestionIds.has(e)?this.expandedQuestionIds.delete(e):this.expandedQuestionIds.add(e)}isExpanded(e){return this.expandedQuestionIds.has(e)}onDelete(e){this.confirmService.show("Delete Question","Are you sure you want to delete this question?",()=>this.onDeleteConfirm(e),{okText:"Delete",isSuccess:!1})}onDeleteConfirm=e=>{this.questionsService.deleteQuestion(e).subscribe({next:()=>this.loadQuestions(),error:t=>{this.confirmService.show("Error","Failed to delete question. Please try again.",()=>{},{okText:"Ok",isSuccess:!1,isPrompt:!0})}})};onEdit(e){this.router.navigateByUrl(`/dashboard/question/edit/${e.id}`)}onAdd(){this.router.navigateByUrl(`/dashboard/question/add/${this.examId}`)}static \u0275fac=function(t){return new(t||i)(b(qe),b(Ht),b(q),b(oe),b(Se),b(Me))};static \u0275cmp=P({type:i,selectors:[["app-show-exam"]],decls:9,vars:4,consts:[[1,"container","my-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold",2,"color","#28a745"],["class","text-center my-5",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"fab-btn",3,"click"],[1,"bi","bi-plus-lg"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"alert","alert-info"],["class","question-card mb-3 rounded shadow-sm",4,"ngFor","ngForOf"],[1,"question-card","mb-3","rounded","shadow-sm"],[1,"question-header","d-flex","justify-content-between","align-items-center","p-3"],[1,"question-text","fw-semibold"],[1,"d-flex","align-items-center","gap-2"],[1,"badge","bg-light","text-secondary","border"],["title","Edit",1,"btn","btn-icon",3,"click"],[1,"bi","bi-pencil-fill"],["title","Delete",1,"btn","btn-icon",3,"click"],[1,"bi","bi-trash-fill"],[1,"btn","btn-icon","toggle-btn",3,"click"],[3,"ngClass"],["class","choices-container px-3 pb-3",4,"ngIf"],[1,"choices-container","px-3","pb-3"],["class","choice-item mb-2 rounded p-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"choice-item","mb-2","rounded","p-2",3,"ngClass"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3",2),u(3),c()(),O(4,Ks,2,0,"div",3)(5,Gs,2,0,"div",4)(6,Xs,2,1,"div",5),l(7,"button",6),w("click",function(){return n.onAdd()}),x(8,"i",7),c()()),t&2&&(p(3),L((n.exam==null?null:n.exam.title)??""),p(),f("ngIf",n.isLoading),p(),f("ngIf",!n.isLoading&&n.questions.length===0),p(),f("ngIf",!n.isLoading))},dependencies:[R,j,pe,$],styles:[".question-card[_ngcontent-%COMP%]{background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #e0e0e0;border-radius:.75rem;transition:box-shadow .3s ease}.question-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000000f}.question-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #00000014}.question-header[_ngcontent-%COMP%]{background:#0000000a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top-left-radius:.75rem;border-top-right-radius:.75rem;border-bottom:1px solid #eee}.question-text[_ngcontent-%COMP%]{font-size:1rem;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-icon[_ngcontent-%COMP%]{border:none;background:transparent;color:#28a745;font-size:1.2rem;padding:.25rem .4rem;transition:color .2s ease,transform .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{color:#3fd061;transform:scale(1.15)}.toggle-btn[_ngcontent-%COMP%]{transition:transform .3s ease}.badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.35em .5em;border-radius:.5rem;color:#28a745}.badge.bg-light[_ngcontent-%COMP%]{color:#28a745;border:1px solid #d1d6f0}.question-meta[_ngcontent-%COMP%]{border-bottom:1px solid #eee}.choices-container[_ngcontent-%COMP%]{background:#0000000a;border-radius:.5rem;overflow:hidden}.choice-item[_ngcontent-%COMP%]{border:1px solid #dee2e6;background:#0000000a;transition:border-color .3s,background-color .3s}.choice-item[_ngcontent-%COMP%]:hover{border-color:#adb5bd}.choice-correct[_ngcontent-%COMP%]{border:2px solid #198754;font-weight:700;background-color:#e9f7ef;color:#198754}.fab-btn[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;width:58px;height:58px;border-radius:50%;border:none;background:linear-gradient(135deg,#28a745,#60d47b);color:#fff;font-size:1.8rem;box-shadow:0 6px 16px #0003;cursor:pointer;transition:transform .25s ease,background .35s ease;z-index:1000}.fab-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#60d47b,#28a745);transform:scale(1.15) rotate(45deg)}.fab-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{pointer-events:none}"],data:{animation:[De("slideToggle",[we(":enter",[G({height:"0px",opacity:0}),Ee("250ms ease-out",G({height:"*",opacity:1}))]),we(":leave",[G({height:"*",opacity:1}),Ee("250ms ease-in",G({height:"0px",opacity:0}))])])]}})};var no=[{path:"",component:On,children:[{path:"",component:bn},{path:"login",component:vn},{path:"register",component:Sn},{path:"profile/:studentId",component:In,canActivate:[vt]},{path:"show-result/:resultId",component:Ct,canActivate:[vt]}]},{path:"take-exam/:examId",component:xn,canActivate:[vt]},{path:"dashboard",component:Pn,canActivate:[vt,to],children:[{path:"exams",pathMatch:"full",loadComponent:()=>import("./chunk-SV4NOPCL.js").then(i=>i.AllExams)},{path:"students",pathMatch:"full",loadComponent:()=>import("./chunk-XOAMRNGC.js").then(i=>i.AllStudents)},{path:"student/result/:studentId",pathMatch:"full",loadComponent:()=>import("./chunk-ONPOF4KL.js").then(i=>i.ShowResults)},{path:"",pathMatch:"full",loadComponent:()=>import("./chunk-MMJFLA6C.js").then(i=>i.StatisticsComponent)},{path:"statistics",pathMatch:"full",loadComponent:()=>import("./chunk-MMJFLA6C.js").then(i=>i.StatisticsComponent)},{path:"exams/:id",component:An},{path:"question/add/:examId",component:_t,data:{isEditMode:!1}},{path:"question/edit/:id",component:_t,data:{isEditMode:!0}}]},{path:"student/result/:studentId",component:Ct},{path:"**",component:_n}];var Dn=class i{constructor(e){this.authService=e}intercept(e,t){let n=this.authService.getToken();if(n){let r=e.clone({setHeaders:{Authorization:`Bearer ${n}`}});return t.handle(r)}return t.handle(e)}static \u0275fac=function(t){return new(t||i)(re(Z))};static \u0275prov=ie({token:i,factory:i.\u0275fac})};var io={providers:[Si(),Fi(),Ki(no),Xr(),ji($i()),{provide:Bi,useClass:Dn,multi:!0},{provide:er,useValue:"en-GB"},tr(),{provide:Li,useValue:"en-GB"}]};var Nn=class i{constructor(e){this.router=e;e.events.subscribe(t=>{t instanceof Ui&&document.body.classList.toggle("dark-mode",this.darkMode)})}title="Exam System";darkMode=!1;ngOnInit(){this.darkMode=localStorage.getItem("dark")==="true",window.addEventListener("themeChanged",this.handleThemeChange)}ngOnDestroy(){window.removeEventListener("themeChanged",this.handleThemeChange)}handleThemeChange=e=>{let t=e;this.darkMode=t.detail.dark};static \u0275fac=function(t){return new(t||i)(b(q))};static \u0275cmp=P({type:i,selectors:[["app-root"]],decls:3,vars:0,template:function(t,n){t&1&&(l(0,"main"),x(1,"router-outlet")(2,"app-confirm"),c())},dependencies:[et,se,R,Ne,ct],encapsulation:2})};function Zs(i){let e=i,t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var ro=["en-GB",[["a","p"],["am","pm"],void 0],[["am","pm"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"GBP","\xA3","British Pound",{JPY:["JP\xA5","\xA5"],USD:["US$","$"]},"ltr",Zs];zi(ro);Vi(Nn,io).catch(i=>console.error(i));
