import{Ac as L,Cb as M,Cc as H,Db as P,Eb as v,Ec as R,Fa as a,Fb as d,Gb as C,Hb as h,Jb as O,Ra as D,Tb as V,Ub as F,Va as p,Vb as $,Xa as b,Z as S,ca as g,da as _,ha as I,ib as c,jb as l,kb as r,lb as m,mb as y,nb as T,ob as x,qb as f,ra as E,rb as o,vc as B,wc as N,xc as A,yc as z,zc as j}from"./chunk-S46BXV3G.js";var U=(n,t,e,i)=>({"badge-easy":n,"badge-medium":t,"badge-hard":e,"badge-very-hard":i});function q(n,t){if(n&1&&(l(0,"div",7),d(1),r()),n&2){let e=o();a(),C(e.caption)}}function G(n,t){n&1&&(l(0,"div",8),m(1,"span",9),r())}function J(n,t){if(n&1&&m(0,"i",19),n&2){let e=o().$implicit,i=o(2);v(i.getSortIcon(e))}}function K(n,t){if(n&1){let e=x();l(0,"div",15),f("click",function(){let s=g(e).$implicit,u=o(2);return _(u.onSort(s))}),l(1,"div",16)(2,"span",17),d(3),r(),p(4,J,1,2,"i",18),r()()}if(n&2){let e=t.$implicit;P("sortable",e.sortable)("sorted",e.sortDirection)("asc",e.sortDirection==="asc")("desc",e.sortDirection==="desc"),a(3),C(e.label),a(),c("ngIf",e.sortable)}}function Q(n,t){n&1&&(l(0,"div",20),d(1," Actions "),r())}function W(n,t){if(n&1&&(l(0,"span"),d(1),F(2,"date"),r()),n&2){let e=o().$implicit,i=o().$implicit;a(),C($(2,1,i[e.field],"short"))}}function X(n,t){if(n&1&&(l(0,"span"),d(1),r()),n&2){let e=o().$implicit,i=o().$implicit;v(i[e.field]?"status-active":"status-inactive"),a(),h(" ",i[e.field]?"Active":"Inactive"," ")}}function Z(n,t){if(n&1&&(l(0,"span"),d(1),r()),n&2){let e=o().$implicit,i=o().$implicit;v(i[e.field]?"status-inactive":"status-active"),a(),h(" ",i[e.field]?"Deleted":"Active"," ")}}function ee(n,t){if(n&1&&(l(0,"span",29),d(1),r()),n&2){let e=o().$implicit,i=o().$implicit;c("ngClass",V(2,U,i[e.field]==="Easy",i[e.field]==="Medium",i[e.field]==="Hard",i[e.field]==="Very Hard")),a(),h(" ",i[e.field]," ")}}function te(n,t){if(n&1&&(l(0,"span"),d(1),r()),n&2){let e=o().$implicit,i=o().$implicit;a(),C(i[e.field])}}function ne(n,t){if(n&1&&(l(0,"div",23),y(1,24),p(2,W,3,4,"span",25)(3,X,2,3,"span",26)(4,Z,2,3,"span",26)(5,ee,2,7,"span",27)(6,te,2,1,"span",28),T(),r()),n&2){let e=t.$implicit;a(),c("ngSwitch",e.pipe),a(),c("ngSwitchCase","date"),a(),c("ngSwitchCase","boolean"),a(),c("ngSwitchCase","deletedStatus"),a(),c("ngSwitchCase","confidence")}}function ie(n,t){if(n&1){let e=x();l(0,"button",31),f("click",function(){let s=g(e).$implicit,u=o(2).$implicit,w=o(2);return _(w.handleActionClick(s.type,u))}),m(1,"i"),r()}if(n&2){let e=t.$implicit;M("color",e.color||"#007bff"),c("title",e.tooltip||e.type),a(),v(e.icon)}}function ae(n,t){if(n&1&&(l(0,"div",20),p(1,ie,2,5,"button",30),r()),n&2){let e=o(3);a(),c("ngForOf",e.actions)}}function oe(n,t){if(n&1&&(l(0,"div",21),p(1,ne,7,5,"div",22)(2,ae,2,1,"div",12),r()),n&2){let e=t.index,i=o(2);M("animation-delay",e*100,"ms"),a(),c("ngForOf",i.columns),a(),c("ngIf",i.actions.length>0)}}function re(n,t){n&1&&(l(0,"div",32),d(1," No data available "),r())}function ce(n,t){if(n&1&&(l(0,"div")(1,"div",10),p(2,K,5,10,"div",11)(3,Q,2,0,"div",12),r(),p(4,oe,3,4,"div",13)(5,re,2,0,"div",14),r()),n&2){let e=o();a(2),c("ngForOf",e.columns),a(),c("ngIf",e.actions.length>0),a(),c("ngForOf",e.displayData),a(),c("ngIf",e.displayData.length===0)}}function le(n,t){if(n&1&&(l(0,"span"),d(1),r()),n&2){let e=o(2);a(),O(" Showing ",(e.currentPage-1)*e.paginationInfo.itemsPerPage+1," - ",e.Math.min(e.currentPage*e.paginationInfo.itemsPerPage,e.totalItems)," of ",e.totalItems," items ")}}function se(n,t){if(n&1&&(l(0,"span"),d(1),r()),n&2){let e=o(2);a(),O(" Showing ",(e.currentPage-1)*e.paginationInfo.itemsPerPage+1," - ",e.Math.min(e.currentPage*e.paginationInfo.itemsPerPage,e.data.length)," of ",e.data.length," items ")}}function de(n,t){if(n&1){let e=x();y(0),l(1,"button",45),f("click",function(){let s=g(e).$implicit,u=o(2);return _(u.goToPage(s))}),d(2),r(),T()}if(n&2){let e=t.$implicit,i=o(2);a(),P("active",i.currentPage===e),a(),h(" ",e," ")}}function pe(n,t){if(n&1){let e=x();l(0,"div",33)(1,"div",34),p(2,le,2,3,"span",5)(3,se,2,3,"span",5),r(),l(4,"div",35)(5,"button",36),f("click",function(){g(e);let s=o();return _(s.goToPage(1))}),m(6,"i",37),r(),l(7,"button",38),f("click",function(){g(e);let s=o();return _(s.changePage(-1))}),m(8,"i",39),r(),p(9,de,3,3,"ng-container",40),l(10,"button",41),f("click",function(){g(e);let s=o();return _(s.changePage(1))}),m(11,"i",42),r(),l(12,"button",43),f("click",function(){g(e);let s=o();return _(s.goToPage(s.totalPages))}),m(13,"i",44),r()()()}if(n&2){let e=o();a(2),c("ngIf",e.useBackendPagination),a(),c("ngIf",!e.useBackendPagination),a(2),c("disabled",e.currentPage===1),a(2),c("disabled",e.currentPage===1),a(2),c("ngForOf",e.getVisiblePages()),a(),c("disabled",e.currentPage===e.totalPages),a(2),c("disabled",e.currentPage===e.totalPages)}}var Y=class n{columns=[];data=[];actions=[];loading=!1;striped=!1;hoverable=!0;caption="";paginationInfo={currentPage:1,totalPages:1,totalItems:0,itemsPerPage:5};useBackendPagination=!1;currentSort=null;actionClick=new b;pageChange=new b;sortChange=new b;nameClick=new b;clientCurrentPage=1;document=S(I);ngOnChanges(t){console.log(" data is",this.data),t.data&&(console.log("\u{1F50D} Table received data:",this.data),console.log("\u{1F50D} Table data length:",this.data?.length),console.log("\u{1F50D} Table columns:",this.columns),console.log("\u{1F50D} Loading state:",this.loading),console.log("\u{1F50D} Backend pagination:",this.useBackendPagination),console.log("\u{1F50D} Pagination info:",this.paginationInfo)),t.currentSort&&this.updateColumnSortStates()}get isDarkMode(){return this.document.body.classList.contains("dark-mode")}get displayData(){if(this.useBackendPagination)return this.data||[];{let t=(this.clientCurrentPage-1)*this.paginationInfo.itemsPerPage;return(this.data||[]).slice(t,t+this.paginationInfo.itemsPerPage)}}get currentPage(){return this.useBackendPagination?this.paginationInfo.currentPage:this.clientCurrentPage}get totalPages(){return this.useBackendPagination?this.paginationInfo.totalPages:Math.ceil((this.data?.length||0)/this.paginationInfo.itemsPerPage)}get totalItems(){return this.useBackendPagination?this.paginationInfo.totalItems:this.data?.length||0}changePage(t){let e=this.currentPage+t;e>0&&e<=this.totalPages&&(this.useBackendPagination?this.pageChange.emit(e):this.clientCurrentPage=e)}goToPage(t){t>0&&t<=this.totalPages&&(this.useBackendPagination?this.pageChange.emit(t):this.clientCurrentPage=t)}onSort(t){if(!t.sortable)return;let e="asc";this.currentSort?.field===t.field&&(e=this.currentSort.direction==="asc"?"desc":"asc"),this.sortChange.emit({field:t.field,direction:e})}updateColumnSortStates(){this.columns.forEach(t=>{this.currentSort?.field===t.field?t.sortDirection=this.currentSort.direction:t.sortDirection=null})}getSortIcon(t){return t.sortable?t.sortDirection==="asc"?"fas fa-sort-up":t.sortDirection==="desc"?"fas fa-sort-down":"fas fa-sort":""}handleActionClick(t,e){this.actionClick.emit({type:t,row:e})}getVisiblePages(){let t=this.currentPage,e=this.totalPages,i=5;if(e<=i)return Array.from({length:e},(w,k)=>k+1);let s=Math.max(1,t-Math.floor(i/2)),u=Math.min(e,s+i-1);return Array.from({length:u-s+1},(w,k)=>s+k)}formatCellValue(t,e){if(t==null)return"";switch(e){case"boolean":return t?"Active":"Inactive";case"date":return new Date(t).toLocaleString();default:return t}}Math=Math;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-table"]],inputs:{columns:"columns",data:"data",actions:"actions",loading:"loading",striped:"striped",hoverable:"hoverable",caption:"caption",paginationInfo:"paginationInfo",useBackendPagination:"useBackendPagination",currentSort:"currentSort"},outputs:{actionClick:"actionClick",pageChange:"pageChange",sortChange:"sortChange",nameClick:"nameClick"},features:[E],decls:7,vars:6,consts:[[1,"table-wrapper"],["class","caption",4,"ngIf"],[1,"scroll-container"],[1,"table-body-wrapper",2,"position","relative","min-height","150px"],["class","table-loader-overlay",4,"ngIf"],[4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[1,"caption"],[1,"table-loader-overlay"],[1,"spinner"],[1,"table-row","header"],["class","table-cell",3,"sortable","sorted","asc","desc","click",4,"ngFor","ngForOf"],["class","table-cell actions",4,"ngIf"],["class","table-row",3,"animationDelay",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"table-cell",3,"click"],[1,"header-content"],[1,"header-text"],["class","sort-icon",3,"class",4,"ngIf"],[1,"sort-icon"],[1,"table-cell","actions"],[1,"table-row"],["class","table-cell",4,"ngFor","ngForOf"],[1,"table-cell"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"class",4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass"],["class","action-btn",3,"title","color","click",4,"ngFor","ngForOf"],[1,"action-btn",3,"click","title"],[1,"no-data"],[1,"pagination-wrapper"],[1,"pagination-info"],[1,"pagination","center"],["title","First page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-angle-double-left"],["title","Previous page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-left"],[4,"ngFor","ngForOf"],["title","Next page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-chevron-right"],["title","Last page",1,"pagination-btn",3,"click","disabled"],[1,"fas","fa-angle-double-right"],[1,"pagination-btn","page-number",3,"click"]],template:function(e,i){e&1&&(l(0,"div",0),p(1,q,2,1,"div",1),l(2,"div",2)(3,"div",3),p(4,G,2,0,"div",4)(5,ce,6,4,"div",5),r()(),p(6,pe,14,7,"div",6),r()),e&2&&(P("dark-mode",i.isDarkMode),a(),c("ngIf",i.caption),a(3),c("ngIf",i.loading),a(),c("ngIf",!i.loading),a(),c("ngIf",i.totalPages>1||i.totalItems>i.paginationInfo.itemsPerPage))},dependencies:[R,B,N,A,z,j,L,H],styles:[".table-wrapper[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:1rem;box-shadow:0 4px 12px #0000000d;overflow-x:auto;font-family:sans-serif}.caption[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:1rem}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;padding:1rem;background-color:#f9fafb;border-radius:.75rem;margin-bottom:.5rem;opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_fadeInRow .4s ease forwards}@keyframes _ngcontent-%COMP%_fadeInRow{to{opacity:1;transform:translateY(0)}}.table-row.header[_ngcontent-%COMP%]{font-weight:700;background-color:#f5f5f5;cursor:pointer}.table-cell[_ngcontent-%COMP%]{text-align:center;font-size:.95rem;color:#333}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.action-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:1.1rem;transition:transform .2s ease}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.no-data[_ngcontent-%COMP%]{text-align:center;color:#888;font-style:italic;padding:2rem}.loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f97316;color:#fff;padding:6px 12px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .3s ease}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#333}.table-wrapper.dark-mode[_ngcontent-%COMP%]{background:#1e1e1e;color:#fff}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:#2a2a2a}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%], .table-wrapper.dark-mode[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ddd}.table-wrapper.dark-mode[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:#aaa}.pagination.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.4rem;margin-top:1.5rem;flex-wrap:wrap}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:4px 12px;font-weight:700;color:#555;border-radius:50px;cursor:pointer;transition:all .3s ease;-webkit-border-radius:50px;-moz-border-radius:50px;-ms-border-radius:50px;-o-border-radius:50px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.table-loader-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffb3;display:flex;align-items:center;justify-content:center;z-index:1}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #ccc;border-top:4px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.status-active[_ngcontent-%COMP%]{color:#28a745;font-weight:600;background-color:#d4edda;border:1px solid #c3e6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.status-inactive[_ngcontent-%COMP%]{color:#dc3545;font-weight:600;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:12px;padding:2px 8px;font-size:12px;text-align:center;display:inline-block;min-width:60px}.dark-mode[_ngcontent-%COMP%]   .status-active[_ngcontent-%COMP%]{background-color:#28a74533;border-color:#28a7454d}.dark-mode[_ngcontent-%COMP%]   .status-inactive[_ngcontent-%COMP%]{background-color:#dc354533;border-color:#dc35454d}.badge-easy[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534;padding:4px 8px;border-radius:6px;font-weight:500}.badge-medium[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e;padding:4px 8px;border-radius:6px;font-weight:500}.badge-hard[_ngcontent-%COMP%]{background-color:#fde68a;color:#92400e;padding:4px 8px;border-radius:6px;font-weight:500}.badge-very-hard[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;padding:4px 8px;border-radius:6px;font-weight:500}"]})};export{Y as a};
